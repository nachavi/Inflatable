import{R as yr,T as vr,a as Mn,b as zn,M as qn,I as Hr,S as Sr,D as $n,Q as $t,P as Wt,V as ge,O as Vt,c as On,d as ve,e as ht,f as ft,g as _r,h as Lr,L as er,i as yt,F as en,C as at,j as Or,k as wr,l as Jr,m as bt,n as ke,o as Ur,p as Pr,q as tr,r as Nr,s as xr,B as vt,t as Kr,u as mt,v as nr,w as Fn,x as kr,y as hn,z as Qr,A as rr,E as Xr,G as sr,H as jr,J as Yr,K as Zr,N as Wr,U as Vr,W as fn,X as zr,Y as qr,Z as $r,_ as es,$ as or,a0 as tn,a1 as ts,a2 as ns,a3 as rs,a4 as ss,a5 as os,a6 as is,a7 as as,a8 as cs,a9 as As,aa as wn,ab as Jn,ac as Un,ad as Pn,ae as ls,af as us,ag as Bs,ah as ir,ai as Ve,aj as Ct,ak as dt,al as hs,am as fs}from"./three-Dt-ifgz1.js";function Ko(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ar={exports:{}},rn={},cr={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var St=Symbol.for("react.element"),ds=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),ps=Symbol.for("react.strict_mode"),ms=Symbol.for("react.profiler"),Es=Symbol.for("react.provider"),gs=Symbol.for("react.context"),Is=Symbol.for("react.forward_ref"),Ms=Symbol.for("react.suspense"),Fs=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),Nn=Symbol.iterator;function Ts(a){return a===null||typeof a!="object"?null:(a=Nn&&a[Nn]||a["@@iterator"],typeof a=="function"?a:null)}var Ar={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lr=Object.assign,ur={};function Et(a,t,n){this.props=a,this.context=t,this.refs=ur,this.updater=n||Ar}Et.prototype.isReactComponent={};Et.prototype.setState=function(a,t){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,t,"setState")};Et.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function Br(){}Br.prototype=Et.prototype;function bn(a,t,n){this.props=a,this.context=t,this.refs=ur,this.updater=n||Ar}var yn=bn.prototype=new Br;yn.constructor=bn;lr(yn,Et.prototype);yn.isPureReactComponent=!0;var xn=Array.isArray,hr=Object.prototype.hasOwnProperty,vn={current:null},fr={key:!0,ref:!0,__self:!0,__source:!0};function dr(a,t,n){var e,r={},i=null,o=null;if(t!=null)for(e in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)hr.call(t,e)&&!fr.hasOwnProperty(e)&&(r[e]=t[e]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(a&&a.defaultProps)for(e in l=a.defaultProps,l)r[e]===void 0&&(r[e]=l[e]);return{$$typeof:St,type:a,key:i,ref:o,props:r,_owner:vn.current}}function Ds(a,t){return{$$typeof:St,type:a.type,key:t,ref:a.ref,props:a.props,_owner:a._owner}}function Hn(a){return typeof a=="object"&&a!==null&&a.$$typeof===St}function Gs(a){var t={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(n){return t[n]})}var Kn=/\/+/g;function dn(a,t){return typeof a=="object"&&a!==null&&a.key!=null?Gs(""+a.key):t.toString(36)}function zt(a,t,n,e,r){var i=typeof a;(i==="undefined"||i==="boolean")&&(a=null);var o=!1;if(a===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(a.$$typeof){case St:case ds:o=!0}}if(o)return o=a,r=r(o),a=e===""?"."+dn(o,0):e,xn(r)?(n="",a!=null&&(n=a.replace(Kn,"$&/")+"/"),zt(r,t,n,"",function(u){return u})):r!=null&&(Hn(r)&&(r=Ds(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Kn,"$&/")+"/")+a)),t.push(r)),1;if(o=0,e=e===""?".":e+":",xn(a))for(var l=0;l<a.length;l++){i=a[l];var c=e+dn(i,l);o+=zt(i,t,n,c,r)}else if(c=Ts(a),typeof c=="function")for(a=c.call(a),l=0;!(i=a.next()).done;)i=i.value,c=e+dn(i,l++),o+=zt(i,t,n,c,r);else if(i==="object")throw t=String(a),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xt(a,t,n){if(a==null)return a;var e=[],r=0;return zt(a,e,"","",function(i){return t.call(n,i,r++)}),e}function bs(a){if(a._status===-1){var t=a._result;t=t(),t.then(function(n){(a._status===0||a._status===-1)&&(a._status=1,a._result=n)},function(n){(a._status===0||a._status===-1)&&(a._status=2,a._result=n)}),a._status===-1&&(a._status=0,a._result=t)}if(a._status===1)return a._result.default;throw a._result}var Te={current:null},qt={transition:null},ys={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:qt,ReactCurrentOwner:vn};W.Children={map:Xt,forEach:function(a,t,n){Xt(a,function(){t.apply(this,arguments)},n)},count:function(a){var t=0;return Xt(a,function(){t++}),t},toArray:function(a){return Xt(a,function(t){return t})||[]},only:function(a){if(!Hn(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};W.Component=Et;W.Fragment=Cs;W.Profiler=ms;W.PureComponent=bn;W.StrictMode=ps;W.Suspense=Ms;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ys;W.cloneElement=function(a,t,n){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var e=lr({},a.props),r=a.key,i=a.ref,o=a._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=vn.current),t.key!==void 0&&(r=""+t.key),a.type&&a.type.defaultProps)var l=a.type.defaultProps;for(c in t)hr.call(t,c)&&!fr.hasOwnProperty(c)&&(e[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)e.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];e.children=l}return{$$typeof:St,type:a.type,key:r,ref:i,props:e,_owner:o}};W.createContext=function(a){return a={$$typeof:gs,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:Es,_context:a},a.Consumer=a};W.createElement=dr;W.createFactory=function(a){var t=dr.bind(null,a);return t.type=a,t};W.createRef=function(){return{current:null}};W.forwardRef=function(a){return{$$typeof:Is,render:a}};W.isValidElement=Hn;W.lazy=function(a){return{$$typeof:Rs,_payload:{_status:-1,_result:a},_init:bs}};W.memo=function(a,t){return{$$typeof:Fs,type:a,compare:t===void 0?null:t}};W.startTransition=function(a){var t=qt.transition;qt.transition={};try{a()}finally{qt.transition=t}};W.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};W.useCallback=function(a,t){return Te.current.useCallback(a,t)};W.useContext=function(a){return Te.current.useContext(a)};W.useDebugValue=function(){};W.useDeferredValue=function(a){return Te.current.useDeferredValue(a)};W.useEffect=function(a,t){return Te.current.useEffect(a,t)};W.useId=function(){return Te.current.useId()};W.useImperativeHandle=function(a,t,n){return Te.current.useImperativeHandle(a,t,n)};W.useInsertionEffect=function(a,t){return Te.current.useInsertionEffect(a,t)};W.useLayoutEffect=function(a,t){return Te.current.useLayoutEffect(a,t)};W.useMemo=function(a,t){return Te.current.useMemo(a,t)};W.useReducer=function(a,t,n){return Te.current.useReducer(a,t,n)};W.useRef=function(a){return Te.current.useRef(a)};W.useState=function(a){return Te.current.useState(a)};W.useSyncExternalStore=function(a,t,n){return Te.current.useSyncExternalStore(a,t,n)};W.useTransition=function(){return Te.current.useTransition()};W.version="18.2.0";cr.exports=W;var vs=cr.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=vs,Ss=Symbol.for("react.element"),_s=Symbol.for("react.fragment"),Ls=Object.prototype.hasOwnProperty,Os=Hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ws={key:!0,ref:!0,__self:!0,__source:!0};function Cr(a,t,n){var e,r={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(e in t)Ls.call(t,e)&&!ws.hasOwnProperty(e)&&(r[e]=t[e]);if(a&&a.defaultProps)for(e in t=a.defaultProps,t)r[e]===void 0&&(r[e]=t[e]);return{$$typeof:Ss,type:a,key:i,ref:o,props:r,_owner:Os.current}}rn.Fragment=_s;rn.jsx=Cr;rn.jsxs=Cr;ar.exports=rn;var ko=ar.exports;const Sn=parseInt(yr.replace(/\D+/g,""));function kn(a,t){if(t===vr)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),a;if(t===Mn||t===zn){let n=a.getIndex();if(n===null){const o=[],l=a.getAttribute("position");if(l!==void 0){for(let c=0;c<l.count;c++)o.push(c);a.setIndex(o),n=a.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a}const e=n.count-2,r=[];if(n)if(t===Mn)for(let o=1;o<=e;o++)r.push(n.getX(0)),r.push(n.getX(o)),r.push(n.getX(o+1));else for(let o=0;o<e;o++)o%2===0?(r.push(n.getX(o)),r.push(n.getX(o+1)),r.push(n.getX(o+2))):(r.push(n.getX(o+2)),r.push(n.getX(o+1)),r.push(n.getX(o)));r.length/3!==e&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=a.clone();return i.setIndex(r),i.clearGroups(),i}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),a}var Oe=Uint8Array,ze=Uint16Array,Rn=Uint32Array,pr=new Oe([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mr=new Oe([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Js=new Oe([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Er=function(a,t){for(var n=new ze(31),e=0;e<31;++e)n[e]=t+=1<<a[e-1];for(var r=new Rn(n[30]),e=1;e<30;++e)for(var i=n[e];i<n[e+1];++i)r[i]=i-n[e]<<5|e;return[n,r]},gr=Er(pr,2),Ir=gr[0],Us=gr[1];Ir[28]=258,Us[258]=28;var Ps=Er(mr,0),Ns=Ps[0],Tn=new ze(32768);for(var he=0;he<32768;++he){var Ze=(he&43690)>>>1|(he&21845)<<1;Ze=(Ze&52428)>>>2|(Ze&13107)<<2,Ze=(Ze&61680)>>>4|(Ze&3855)<<4,Tn[he]=((Ze&65280)>>>8|(Ze&255)<<8)>>>1}var Ht=function(a,t,n){for(var e=a.length,r=0,i=new ze(t);r<e;++r)++i[a[r]-1];var o=new ze(t);for(r=0;r<t;++r)o[r]=o[r-1]+i[r-1]<<1;var l;if(n){l=new ze(1<<t);var c=15-t;for(r=0;r<e;++r)if(a[r])for(var u=r<<4|a[r],h=t-a[r],f=o[a[r]-1]++<<h,C=f|(1<<h)-1;f<=C;++f)l[Tn[f]>>>c]=u}else for(l=new ze(e),r=0;r<e;++r)a[r]&&(l[r]=Tn[o[a[r]-1]++]>>>15-a[r]);return l},_t=new Oe(288);for(var he=0;he<144;++he)_t[he]=8;for(var he=144;he<256;++he)_t[he]=9;for(var he=256;he<280;++he)_t[he]=7;for(var he=280;he<288;++he)_t[he]=8;var Mr=new Oe(32);for(var he=0;he<32;++he)Mr[he]=5;var xs=Ht(_t,9,1),Ks=Ht(Mr,5,1),Cn=function(a){for(var t=a[0],n=1;n<a.length;++n)a[n]>t&&(t=a[n]);return t},Ne=function(a,t,n){var e=t/8|0;return(a[e]|a[e+1]<<8)>>(t&7)&n},pn=function(a,t){var n=t/8|0;return(a[n]|a[n+1]<<8|a[n+2]<<16)>>(t&7)},ks=function(a){return(a/8|0)+(a&7&&1)},Qs=function(a,t,n){(n==null||n>a.length)&&(n=a.length);var e=new(a instanceof ze?ze:a instanceof Rn?Rn:Oe)(n-t);return e.set(a.subarray(t,n)),e},Xs=function(a,t,n){var e=a.length;if(!e||n&&!n.l&&e<5)return t||new Oe(0);var r=!t||n,i=!n||n.i;n||(n={}),t||(t=new Oe(e*3));var o=function(te){var we=t.length;if(te>we){var Je=new Oe(Math.max(we*2,te));Je.set(t),t=Je}},l=n.f||0,c=n.p||0,u=n.b||0,h=n.l,f=n.d,C=n.m,g=n.n,I=e*8;do{if(!h){n.f=l=Ne(a,c,1);var H=Ne(a,c+1,3);if(c+=3,H)if(H==1)h=xs,f=Ks,C=9,g=5;else if(H==2){var k=Ne(a,c,31)+257,x=Ne(a,c+10,15)+4,se=k+Ne(a,c+5,31)+1;c+=14;for(var ne=new Oe(se),Ae=new Oe(19),S=0;S<x;++S)Ae[Js[S]]=Ne(a,c+S*3,7);c+=x*3;for(var K=Cn(Ae),L=(1<<K)-1,$=Ht(Ae,K,1),S=0;S<se;){var z=$[Ne(a,c,L)];c+=z&15;var G=z>>>4;if(G<16)ne[S++]=G;else{var j=0,N=0;for(G==16?(N=3+Ne(a,c,3),c+=2,j=ne[S-1]):G==17?(N=3+Ne(a,c,7),c+=3):G==18&&(N=11+Ne(a,c,127),c+=7);N--;)ne[S++]=j}}var oe=ne.subarray(0,k),X=ne.subarray(k);C=Cn(oe),g=Cn(X),h=Ht(oe,C,1),f=Ht(X,g,1)}else throw"invalid block type";else{var G=ks(c)+4,_=a[G-4]|a[G-3]<<8,P=G+_;if(P>e){if(i)throw"unexpected EOF";break}r&&o(u+_),t.set(a.subarray(G,P),u),n.b=u+=_,n.p=c=P*8;continue}if(c>I){if(i)throw"unexpected EOF";break}}r&&o(u+131072);for(var De=(1<<C)-1,Ge=(1<<g)-1,Me=c;;Me=c){var j=h[pn(a,c)&De],ee=j>>>4;if(c+=j&15,c>I){if(i)throw"unexpected EOF";break}if(!j)throw"invalid length/literal";if(ee<256)t[u++]=ee;else if(ee==256){Me=c,h=null;break}else{var He=ee-254;if(ee>264){var S=ee-257,ie=pr[S];He=Ne(a,c,(1<<ie)-1)+Ir[S],c+=ie}var Ce=f[pn(a,c)&Ge],be=Ce>>>4;if(!Ce)throw"invalid distance";c+=Ce&15;var X=Ns[be];if(be>3){var ie=mr[be];X+=pn(a,c)&(1<<ie)-1,c+=ie}if(c>I){if(i)throw"unexpected EOF";break}r&&o(u+131072);for(var qe=u+He;u<qe;u+=4)t[u]=t[u-X],t[u+1]=t[u+1-X],t[u+2]=t[u+2-X],t[u+3]=t[u+3-X];u=qe}}n.l=h,n.p=Me,n.b=u,h&&(l=1,n.m=C,n.d=f,n.n=g)}while(!l);return u==t.length?t:Qs(t,0,u)},js=new Oe(0),Ys=function(a){if((a[0]&15)!=8||a[0]>>>4>7||(a[0]<<8|a[1])%31)throw"invalid zlib data";if(a[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function jt(a,t){return Xs((Ys(a),a.subarray(2,-4)),t)}var Zs=typeof TextDecoder<"u"&&new TextDecoder,Ws=0;try{Zs.decode(js,{stream:!0}),Ws=1}catch{}const Vs=a=>a&&a.isCubeTexture;class Qo extends qn{constructor(t,n){var e,r;const i=Vs(t),l=((r=i?(e=t.image[0])==null?void 0:e.width:t.image.width)!=null?r:1024)/4,c=Math.floor(Math.log2(l)),u=Math.pow(2,c),h=3*Math.max(u,16*7),f=4*u,C=[i?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/h}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${c}.0`],g=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,I=C.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${Sn>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,H={map:{value:t},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},G=new Hr(1,16),_=new Sr({uniforms:H,fragmentShader:I,vertexShader:g,side:$n});super(G,_)}set radius(t){this.material.uniforms.radius.value=t}get radius(){return this.material.uniforms.radius.value}set height(t){this.material.uniforms.height.value=t}get height(){return this.material.uniforms.height.value}}var zs=Object.defineProperty,qs=(a,t,n)=>t in a?zs(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,$s=(a,t,n)=>(qs(a,t+"",n),n);class eo{constructor(){$s(this,"_listeners")}addEventListener(t,n){this._listeners===void 0&&(this._listeners={});const e=this._listeners;e[t]===void 0&&(e[t]=[]),e[t].indexOf(n)===-1&&e[t].push(n)}hasEventListener(t,n){if(this._listeners===void 0)return!1;const e=this._listeners;return e[t]!==void 0&&e[t].indexOf(n)!==-1}removeEventListener(t,n){if(this._listeners===void 0)return;const r=this._listeners[t];if(r!==void 0){const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const e=this._listeners[t.type];if(e!==void 0){t.target=this;const r=e.slice(0);for(let i=0,o=r.length;i<o;i++)r[i].call(this,t);t.target=null}}}var to=Object.defineProperty,no=(a,t,n)=>t in a?to(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,U=(a,t,n)=>(no(a,typeof t!="symbol"?t+"":t,n),n);const Yt=new _r,Qn=new Lr,ro=Math.cos(70*(Math.PI/180)),Xn=(a,t)=>(a%t+t)%t;class Xo extends eo{constructor(t,n){super(),U(this,"object"),U(this,"domElement"),U(this,"enabled",!0),U(this,"target",new ge),U(this,"minDistance",0),U(this,"maxDistance",1/0),U(this,"minZoom",0),U(this,"maxZoom",1/0),U(this,"minPolarAngle",0),U(this,"maxPolarAngle",Math.PI),U(this,"minAzimuthAngle",-1/0),U(this,"maxAzimuthAngle",1/0),U(this,"enableDamping",!1),U(this,"dampingFactor",.05),U(this,"enableZoom",!0),U(this,"zoomSpeed",1),U(this,"enableRotate",!0),U(this,"rotateSpeed",1),U(this,"enablePan",!0),U(this,"panSpeed",1),U(this,"screenSpacePanning",!0),U(this,"keyPanSpeed",7),U(this,"zoomToCursor",!1),U(this,"autoRotate",!1),U(this,"autoRotateSpeed",2),U(this,"reverseOrbit",!1),U(this,"reverseHorizontalOrbit",!1),U(this,"reverseVerticalOrbit",!1),U(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),U(this,"mouseButtons",{LEFT:ht.ROTATE,MIDDLE:ht.DOLLY,RIGHT:ht.PAN}),U(this,"touches",{ONE:ft.ROTATE,TWO:ft.DOLLY_PAN}),U(this,"target0"),U(this,"position0"),U(this,"zoom0"),U(this,"_domElementKeyEvents",null),U(this,"getPolarAngle"),U(this,"getAzimuthalAngle"),U(this,"setPolarAngle"),U(this,"setAzimuthalAngle"),U(this,"getDistance"),U(this,"getZoomScale"),U(this,"listenToKeyEvents"),U(this,"stopListenToKeyEvents"),U(this,"saveState"),U(this,"reset"),U(this,"update"),U(this,"connect"),U(this,"dispose"),U(this,"dollyIn"),U(this,"dollyOut"),U(this,"getScale"),U(this,"setScale"),this.object=t,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=d=>{let F=Xn(d,2*Math.PI),O=h.phi;O<0&&(O+=2*Math.PI),F<0&&(F+=2*Math.PI);let q=Math.abs(F-O);2*Math.PI-q<q&&(F<O?F+=2*Math.PI:O+=2*Math.PI),f.phi=F-O,e.update()},this.setAzimuthalAngle=d=>{let F=Xn(d,2*Math.PI),O=h.theta;O<0&&(O+=2*Math.PI),F<0&&(F+=2*Math.PI);let q=Math.abs(F-O);2*Math.PI-q<q&&(F<O?F+=2*Math.PI:O+=2*Math.PI),f.theta=F-O,e.update()},this.getDistance=()=>e.object.position.distanceTo(e.target),this.listenToKeyEvents=d=>{d.addEventListener("keydown",At),this._domElementKeyEvents=d},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",At),this._domElementKeyEvents=null},this.saveState=()=>{e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=()=>{e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(r),e.update(),c=l.NONE},this.update=(()=>{const d=new ge,F=new ge(0,1,0),O=new $t().setFromUnitVectors(t.up,F),q=O.clone().invert(),T=new ge,Fe=new $t,xe=2*Math.PI;return function(){const kt=e.object.position;O.setFromUnitVectors(t.up,F),q.copy(O).invert(),d.copy(kt).sub(e.target),d.applyQuaternion(O),h.setFromVector3(d),e.autoRotate&&c===l.NONE&&N(z()),e.enableDamping?(h.theta+=f.theta*e.dampingFactor,h.phi+=f.phi*e.dampingFactor):(h.theta+=f.theta,h.phi+=f.phi);let Ue=e.minAzimuthAngle,Pe=e.maxAzimuthAngle;isFinite(Ue)&&isFinite(Pe)&&(Ue<-Math.PI?Ue+=xe:Ue>Math.PI&&(Ue-=xe),Pe<-Math.PI?Pe+=xe:Pe>Math.PI&&(Pe-=xe),Ue<=Pe?h.theta=Math.max(Ue,Math.min(Pe,h.theta)):h.theta=h.theta>(Ue+Pe)/2?Math.max(Ue,h.theta):Math.min(Pe,h.theta)),h.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,h.phi)),h.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(g,e.dampingFactor):e.target.add(g),e.zoomToCursor&&K||e.object.isOrthographicCamera?h.radius=Ce(h.radius):h.radius=Ce(h.radius*C),d.setFromSpherical(h),d.applyQuaternion(q),kt.copy(e.target).add(d),e.object.matrixAutoUpdate||e.object.updateMatrix(),e.object.lookAt(e.target),e.enableDamping===!0?(f.theta*=1-e.dampingFactor,f.phi*=1-e.dampingFactor,g.multiplyScalar(1-e.dampingFactor)):(f.set(0,0,0),g.set(0,0,0));let tt=!1;if(e.zoomToCursor&&K){let nt=null;if(e.object instanceof Wt&&e.object.isPerspectiveCamera){const rt=d.length();nt=Ce(rt*C);const Bt=rt-nt;e.object.position.addScaledVector(Ae,Bt),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const rt=new ge(S.x,S.y,0);rt.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/C)),e.object.updateProjectionMatrix(),tt=!0;const Bt=new ge(S.x,S.y,0);Bt.unproject(e.object),e.object.position.sub(Bt).add(rt),e.object.updateMatrixWorld(),nt=d.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;nt!==null&&(e.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(nt).add(e.object.position):(Yt.origin.copy(e.object.position),Yt.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(Yt.direction))<ro?t.lookAt(e.target):(Qn.setFromNormalAndCoplanarPoint(e.object.up,e.target),Yt.intersectPlane(Qn,e.target))))}else e.object instanceof Vt&&e.object.isOrthographicCamera&&(tt=C!==1,tt&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/C)),e.object.updateProjectionMatrix()));return C=1,K=!1,tt||T.distanceToSquared(e.object.position)>u||8*(1-Fe.dot(e.object.quaternion))>u?(e.dispatchEvent(r),T.copy(e.object.position),Fe.copy(e.object.quaternion),tt=!1,!0):!1}})(),this.connect=d=>{e.domElement=d,e.domElement.style.touchAction="none",e.domElement.addEventListener("contextmenu",Kt),e.domElement.addEventListener("pointerdown",Nt),e.domElement.addEventListener("pointercancel",$e),e.domElement.addEventListener("wheel",xt)},this.dispose=()=>{var d,F,O,q,T,Fe;e.domElement&&(e.domElement.style.touchAction="auto"),(d=e.domElement)==null||d.removeEventListener("contextmenu",Kt),(F=e.domElement)==null||F.removeEventListener("pointerdown",Nt),(O=e.domElement)==null||O.removeEventListener("pointercancel",$e),(q=e.domElement)==null||q.removeEventListener("wheel",xt),(T=e.domElement)==null||T.ownerDocument.removeEventListener("pointermove",ct),(Fe=e.domElement)==null||Fe.ownerDocument.removeEventListener("pointerup",$e),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",At)};const e=this,r={type:"change"},i={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=l.NONE;const u=1e-6,h=new On,f=new On;let C=1;const g=new ge,I=new ve,H=new ve,G=new ve,_=new ve,P=new ve,k=new ve,x=new ve,se=new ve,ne=new ve,Ae=new ge,S=new ve;let K=!1;const L=[],$={};function z(){return 2*Math.PI/60/60*e.autoRotateSpeed}function j(){return Math.pow(.95,e.zoomSpeed)}function N(d){e.reverseOrbit||e.reverseHorizontalOrbit?f.theta+=d:f.theta-=d}function oe(d){e.reverseOrbit||e.reverseVerticalOrbit?f.phi+=d:f.phi-=d}const X=(()=>{const d=new ge;return function(O,q){d.setFromMatrixColumn(q,0),d.multiplyScalar(-O),g.add(d)}})(),De=(()=>{const d=new ge;return function(O,q){e.screenSpacePanning===!0?d.setFromMatrixColumn(q,1):(d.setFromMatrixColumn(q,0),d.crossVectors(e.object.up,d)),d.multiplyScalar(O),g.add(d)}})(),Ge=(()=>{const d=new ge;return function(O,q){const T=e.domElement;if(T&&e.object instanceof Wt&&e.object.isPerspectiveCamera){const Fe=e.object.position;d.copy(Fe).sub(e.target);let xe=d.length();xe*=Math.tan(e.object.fov/2*Math.PI/180),X(2*O*xe/T.clientHeight,e.object.matrix),De(2*q*xe/T.clientHeight,e.object.matrix)}else T&&e.object instanceof Vt&&e.object.isOrthographicCamera?(X(O*(e.object.right-e.object.left)/e.object.zoom/T.clientWidth,e.object.matrix),De(q*(e.object.top-e.object.bottom)/e.object.zoom/T.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}})();function Me(d){e.object instanceof Wt&&e.object.isPerspectiveCamera||e.object instanceof Vt&&e.object.isOrthographicCamera?C=d:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function ee(d){Me(C/d)}function He(d){Me(C*d)}function ie(d){if(!e.zoomToCursor||!e.domElement)return;K=!0;const F=e.domElement.getBoundingClientRect(),O=d.clientX-F.left,q=d.clientY-F.top,T=F.width,Fe=F.height;S.x=O/T*2-1,S.y=-(q/Fe)*2+1,Ae.set(S.x,S.y,1).unproject(e.object).sub(e.object.position).normalize()}function Ce(d){return Math.max(e.minDistance,Math.min(e.maxDistance,d))}function be(d){I.set(d.clientX,d.clientY)}function qe(d){ie(d),x.set(d.clientX,d.clientY)}function te(d){_.set(d.clientX,d.clientY)}function we(d){H.set(d.clientX,d.clientY),G.subVectors(H,I).multiplyScalar(e.rotateSpeed);const F=e.domElement;F&&(N(2*Math.PI*G.x/F.clientHeight),oe(2*Math.PI*G.y/F.clientHeight)),I.copy(H),e.update()}function Je(d){se.set(d.clientX,d.clientY),ne.subVectors(se,x),ne.y>0?ee(j()):ne.y<0&&He(j()),x.copy(se),e.update()}function sn(d){P.set(d.clientX,d.clientY),k.subVectors(P,_).multiplyScalar(e.panSpeed),Ge(k.x,k.y),_.copy(P),e.update()}function on(d){ie(d),d.deltaY<0?He(j()):d.deltaY>0&&ee(j()),e.update()}function Lt(d){let F=!1;switch(d.code){case e.keys.UP:Ge(0,e.keyPanSpeed),F=!0;break;case e.keys.BOTTOM:Ge(0,-e.keyPanSpeed),F=!0;break;case e.keys.LEFT:Ge(e.keyPanSpeed,0),F=!0;break;case e.keys.RIGHT:Ge(-e.keyPanSpeed,0),F=!0;break}F&&(d.preventDefault(),e.update())}function Ot(){if(L.length==1)I.set(L[0].pageX,L[0].pageY);else{const d=.5*(L[0].pageX+L[1].pageX),F=.5*(L[0].pageY+L[1].pageY);I.set(d,F)}}function gt(){if(L.length==1)_.set(L[0].pageX,L[0].pageY);else{const d=.5*(L[0].pageX+L[1].pageX),F=.5*(L[0].pageY+L[1].pageY);_.set(d,F)}}function It(){const d=L[0].pageX-L[1].pageX,F=L[0].pageY-L[1].pageY,O=Math.sqrt(d*d+F*F);x.set(0,O)}function wt(){e.enableZoom&&It(),e.enablePan&&gt()}function an(){e.enableZoom&&It(),e.enableRotate&&Ot()}function Jt(d){if(L.length==1)H.set(d.pageX,d.pageY);else{const O=ut(d),q=.5*(d.pageX+O.x),T=.5*(d.pageY+O.y);H.set(q,T)}G.subVectors(H,I).multiplyScalar(e.rotateSpeed);const F=e.domElement;F&&(N(2*Math.PI*G.x/F.clientHeight),oe(2*Math.PI*G.y/F.clientHeight)),I.copy(H)}function Ut(d){if(L.length==1)P.set(d.pageX,d.pageY);else{const F=ut(d),O=.5*(d.pageX+F.x),q=.5*(d.pageY+F.y);P.set(O,q)}k.subVectors(P,_).multiplyScalar(e.panSpeed),Ge(k.x,k.y),_.copy(P)}function Pt(d){const F=ut(d),O=d.pageX-F.x,q=d.pageY-F.y,T=Math.sqrt(O*O+q*q);se.set(0,T),ne.set(0,Math.pow(se.y/x.y,e.zoomSpeed)),ee(ne.y),x.copy(se)}function cn(d){e.enableZoom&&Pt(d),e.enablePan&&Ut(d)}function An(d){e.enableZoom&&Pt(d),e.enableRotate&&Jt(d)}function Nt(d){var F,O;e.enabled!==!1&&(L.length===0&&((F=e.domElement)==null||F.ownerDocument.addEventListener("pointermove",ct),(O=e.domElement)==null||O.ownerDocument.addEventListener("pointerup",$e)),Bn(d),d.pointerType==="touch"?lt(d):Mt(d))}function ct(d){e.enabled!==!1&&(d.pointerType==="touch"?un(d):ln(d))}function $e(d){var F,O,q;et(d),L.length===0&&((F=e.domElement)==null||F.releasePointerCapture(d.pointerId),(O=e.domElement)==null||O.ownerDocument.removeEventListener("pointermove",ct),(q=e.domElement)==null||q.ownerDocument.removeEventListener("pointerup",$e)),e.dispatchEvent(o),c=l.NONE}function Mt(d){let F;switch(d.button){case 0:F=e.mouseButtons.LEFT;break;case 1:F=e.mouseButtons.MIDDLE;break;case 2:F=e.mouseButtons.RIGHT;break;default:F=-1}switch(F){case ht.DOLLY:if(e.enableZoom===!1)return;qe(d),c=l.DOLLY;break;case ht.ROTATE:if(d.ctrlKey||d.metaKey||d.shiftKey){if(e.enablePan===!1)return;te(d),c=l.PAN}else{if(e.enableRotate===!1)return;be(d),c=l.ROTATE}break;case ht.PAN:if(d.ctrlKey||d.metaKey||d.shiftKey){if(e.enableRotate===!1)return;be(d),c=l.ROTATE}else{if(e.enablePan===!1)return;te(d),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&e.dispatchEvent(i)}function ln(d){if(e.enabled!==!1)switch(c){case l.ROTATE:if(e.enableRotate===!1)return;we(d);break;case l.DOLLY:if(e.enableZoom===!1)return;Je(d);break;case l.PAN:if(e.enablePan===!1)return;sn(d);break}}function xt(d){e.enabled===!1||e.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(d.preventDefault(),e.dispatchEvent(i),on(d),e.dispatchEvent(o))}function At(d){e.enabled===!1||e.enablePan===!1||Lt(d)}function lt(d){switch(Ee(d),L.length){case 1:switch(e.touches.ONE){case ft.ROTATE:if(e.enableRotate===!1)return;Ot(),c=l.TOUCH_ROTATE;break;case ft.PAN:if(e.enablePan===!1)return;gt(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(e.touches.TWO){case ft.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;wt(),c=l.TOUCH_DOLLY_PAN;break;case ft.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;an(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&e.dispatchEvent(i)}function un(d){switch(Ee(d),c){case l.TOUCH_ROTATE:if(e.enableRotate===!1)return;Jt(d),e.update();break;case l.TOUCH_PAN:if(e.enablePan===!1)return;Ut(d),e.update();break;case l.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;cn(d),e.update();break;case l.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;An(d),e.update();break;default:c=l.NONE}}function Kt(d){e.enabled!==!1&&d.preventDefault()}function Bn(d){L.push(d)}function et(d){delete $[d.pointerId];for(let F=0;F<L.length;F++)if(L[F].pointerId==d.pointerId){L.splice(F,1);return}}function Ee(d){let F=$[d.pointerId];F===void 0&&(F=new ve,$[d.pointerId]=F),F.set(d.pageX,d.pageY)}function ut(d){const F=d.pointerId===L[0].pointerId?L[1]:L[0];return $[F.pointerId]}this.dollyIn=(d=j())=>{He(d),e.update()},this.dollyOut=(d=j())=>{ee(d),e.update()},this.getScale=()=>C,this.setScale=d=>{Me(d),e.update()},this.getZoomScale=()=>j(),n!==void 0&&this.connect(n),this.update()}}function nn(a){if(typeof TextDecoder<"u")return new TextDecoder().decode(a);let t="";for(let n=0,e=a.length;n<e;n++)t+=String.fromCharCode(a[n]);try{return decodeURIComponent(escape(t))}catch{return t}}const it="srgb",je="srgb-linear",jn=3001,so=3e3;class jo extends er{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Ao(n)}),this.register(function(n){return new lo(n)}),this.register(function(n){return new go(n)}),this.register(function(n){return new Io(n)}),this.register(function(n){return new Mo(n)}),this.register(function(n){return new Bo(n)}),this.register(function(n){return new ho(n)}),this.register(function(n){return new fo(n)}),this.register(function(n){return new Co(n)}),this.register(function(n){return new co(n)}),this.register(function(n){return new po(n)}),this.register(function(n){return new uo(n)}),this.register(function(n){return new Eo(n)}),this.register(function(n){return new mo(n)}),this.register(function(n){return new io(n)}),this.register(function(n){return new Fo(n)}),this.register(function(n){return new Ro(n)})}load(t,n,e,r){const i=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=yt.extractUrlBase(t);o=yt.resolveURL(u,this.path)}else o=yt.extractUrlBase(t);this.manager.itemStart(t);const l=function(u){r?r(u):console.error(u),i.manager.itemError(t),i.manager.itemEnd(t)},c=new en(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(u){try{i.parse(u,o,function(h){n(h),i.manager.itemEnd(t)},l)}catch(h){l(h)}},e,l)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,n,e,r){let i;const o={},l={};if(typeof t=="string")i=JSON.parse(t);else if(t instanceof ArrayBuffer)if(nn(new Uint8Array(t.slice(0,4)))===Fr){try{o[Z.KHR_BINARY_GLTF]=new To(t)}catch(h){r&&r(h);return}i=JSON.parse(o[Z.KHR_BINARY_GLTF].content)}else i=JSON.parse(nn(new Uint8Array(t)));else i=t;if(i.asset===void 0||i.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Uo(i,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const h=this.pluginCallbacks[u](c);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[h.name]=h,o[h.name]=!0}if(i.extensionsUsed)for(let u=0;u<i.extensionsUsed.length;++u){const h=i.extensionsUsed[u],f=i.extensionsRequired||[];switch(h){case Z.KHR_MATERIALS_UNLIT:o[h]=new ao;break;case Z.KHR_DRACO_MESH_COMPRESSION:o[h]=new Do(i,this.dracoLoader);break;case Z.KHR_TEXTURE_TRANSFORM:o[h]=new Go;break;case Z.KHR_MESH_QUANTIZATION:o[h]=new bo;break;default:f.indexOf(h)>=0&&l[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}c.setExtensions(o),c.setPlugins(l),c.parse(e,r)}parseAsync(t,n){const e=this;return new Promise(function(r,i){e.parse(t,n,r,i)})}}function oo(){let a={};return{get:function(t){return a[t]},add:function(t,n){a[t]=n},remove:function(t){delete a[t]},removeAll:function(){a={}}}}const Z={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class io{constructor(t){this.parser=t,this.name=Z.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,n=this.parser.json.nodes||[];for(let e=0,r=n.length;e<r;e++){const i=n[e];i.extensions&&i.extensions[this.name]&&i.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(t){const n=this.parser,e="light:"+t;let r=n.cache.get(e);if(r)return r;const i=n.json,c=((i.extensions&&i.extensions[this.name]||{}).lights||[])[t];let u;const h=new at(16777215);c.color!==void 0&&h.setRGB(c.color[0],c.color[1],c.color[2],je);const f=c.range!==void 0?c.range:0;switch(c.type){case"directional":u=new Jr(h),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new wr(h),u.distance=f;break;case"spot":u=new Or(h),u.distance=f,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,u.angle=c.spot.outerConeAngle,u.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return u.position.set(0,0,0),u.decay=2,Xe(u,c),c.intensity!==void 0&&(u.intensity=c.intensity),u.name=n.createUniqueName(c.name||"light_"+t),r=Promise.resolve(u),n.cache.add(e,r),r}getDependency(t,n){if(t==="light")return this._loadLight(n)}createNodeAttachment(t){const n=this,e=this.parser,i=e.json.nodes[t],l=(i.extensions&&i.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(c){return e._getNodeRef(n.cache,l,c)})}}class ao{constructor(){this.name=Z.KHR_MATERIALS_UNLIT}getMaterialType(){return bt}extendParams(t,n,e){const r=[];t.color=new at(1,1,1),t.opacity=1;const i=n.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const o=i.baseColorFactor;t.color.setRGB(o[0],o[1],o[2],je),t.opacity=o[3]}i.baseColorTexture!==void 0&&r.push(e.assignTexture(t,"map",i.baseColorTexture,it))}return Promise.all(r)}}class co{constructor(t){this.parser=t,this.name=Z.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,n){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name].emissiveStrength;return i!==void 0&&(n.emissiveIntensity=i),Promise.resolve()}}class Ao{constructor(t){this.parser=t,this.name=Z.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const e=this.parser.json.materials[t];return!e.extensions||!e.extensions[this.name]?null:ke}extendMaterialParams(t,n){const e=this.parser,r=e.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&i.push(e.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&i.push(e.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(i.push(e.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const l=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ve(l,l)}return Promise.all(i)}}class lo{constructor(t){this.parser=t,this.name=Z.KHR_MATERIALS_DISPERSION}getMaterialType(t){const e=this.parser.json.materials[t];return!e.extensions||!e.extensions[this.name]?null:ke}extendMaterialParams(t,n){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name];return n.dispersion=i.dispersion!==void 0?i.dispersion:0,Promise.resolve()}}class uo{constructor(t){this.parser=t,this.name=Z.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const e=this.parser.json.materials[t];return!e.extensions||!e.extensions[this.name]?null:ke}extendMaterialParams(t,n){const e=this.parser,r=e.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&i.push(e.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&i.push(e.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(i)}}class Bo{constructor(t){this.parser=t,this.name=Z.KHR_MATERIALS_SHEEN}getMaterialType(t){const e=this.parser.json.materials[t];return!e.extensions||!e.extensions[this.name]?null:ke}extendMaterialParams(t,n){const e=this.parser,r=e.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[];n.sheenColor=new at(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const l=o.sheenColorFactor;n.sheenColor.setRGB(l[0],l[1],l[2],je)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&i.push(e.assignTexture(n,"sheenColorMap",o.sheenColorTexture,it)),o.sheenRoughnessTexture!==void 0&&i.push(e.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(i)}}class ho{constructor(t){this.parser=t,this.name=Z.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const e=this.parser.json.materials[t];return!e.extensions||!e.extensions[this.name]?null:ke}extendMaterialParams(t,n){const e=this.parser,r=e.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&i.push(e.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(i)}}class fo{constructor(t){this.parser=t,this.name=Z.KHR_MATERIALS_VOLUME}getMaterialType(t){const e=this.parser.json.materials[t];return!e.extensions||!e.extensions[this.name]?null:ke}extendMaterialParams(t,n){const e=this.parser,r=e.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&i.push(e.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const l=o.attenuationColor||[1,1,1];return n.attenuationColor=new at().setRGB(l[0],l[1],l[2],je),Promise.all(i)}}class Co{constructor(t){this.parser=t,this.name=Z.KHR_MATERIALS_IOR}getMaterialType(t){const e=this.parser.json.materials[t];return!e.extensions||!e.extensions[this.name]?null:ke}extendMaterialParams(t,n){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name];return n.ior=i.ior!==void 0?i.ior:1.5,Promise.resolve()}}class po{constructor(t){this.parser=t,this.name=Z.KHR_MATERIALS_SPECULAR}getMaterialType(t){const e=this.parser.json.materials[t];return!e.extensions||!e.extensions[this.name]?null:ke}extendMaterialParams(t,n){const e=this.parser,r=e.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&i.push(e.assignTexture(n,"specularIntensityMap",o.specularTexture));const l=o.specularColorFactor||[1,1,1];return n.specularColor=new at().setRGB(l[0],l[1],l[2],je),o.specularColorTexture!==void 0&&i.push(e.assignTexture(n,"specularColorMap",o.specularColorTexture,it)),Promise.all(i)}}class mo{constructor(t){this.parser=t,this.name=Z.EXT_MATERIALS_BUMP}getMaterialType(t){const e=this.parser.json.materials[t];return!e.extensions||!e.extensions[this.name]?null:ke}extendMaterialParams(t,n){const e=this.parser,r=e.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&i.push(e.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(i)}}class Eo{constructor(t){this.parser=t,this.name=Z.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const e=this.parser.json.materials[t];return!e.extensions||!e.extensions[this.name]?null:ke}extendMaterialParams(t,n){const e=this.parser,r=e.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&i.push(e.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(i)}}class go{constructor(t){this.parser=t,this.name=Z.KHR_TEXTURE_BASISU}loadTexture(t){const n=this.parser,e=n.json,r=e.textures[t];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(t,i.source,o)}}class Io{constructor(t){this.parser=t,this.name=Z.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const n=this.name,e=this.parser,r=e.json,i=r.textures[t];if(!i.extensions||!i.extensions[n])return null;const o=i.extensions[n],l=r.images[o.source];let c=e.textureLoader;if(l.uri){const u=e.options.manager.getHandler(l.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return e.loadTextureImage(t,o.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return e.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){t(n.height===1)}})),this.isSupported}}class Mo{constructor(t){this.parser=t,this.name=Z.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const n=this.name,e=this.parser,r=e.json,i=r.textures[t];if(!i.extensions||!i.extensions[n])return null;const o=i.extensions[n],l=r.images[o.source];let c=e.textureLoader;if(l.uri){const u=e.options.manager.getHandler(l.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return e.loadTextureImage(t,o.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return e.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){t(n.height===1)}})),this.isSupported}}class Fo{constructor(t){this.name=Z.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const n=this.parser.json,e=n.bufferViews[t];if(e.extensions&&e.extensions[this.name]){const r=e.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(l){const c=r.byteOffset||0,u=r.byteLength||0,h=r.count,f=r.byteStride,C=new Uint8Array(l,c,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,f,C,r.mode,r.filter).then(function(g){return g.buffer}):o.ready.then(function(){const g=new ArrayBuffer(h*f);return o.decodeGltfBuffer(new Uint8Array(g),h,f,C,r.mode,r.filter),g})})}else return null}}class Ro{constructor(t){this.name=Z.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const n=this.parser.json,e=n.nodes[t];if(!e.extensions||!e.extensions[this.name]||e.mesh===void 0)return null;const r=n.meshes[e.mesh];for(const u of r.primitives)if(u.mode!==Le.TRIANGLES&&u.mode!==Le.TRIANGLE_STRIP&&u.mode!==Le.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=e.extensions[this.name].attributes,l=[],c={};for(const u in o)l.push(this.parser.getDependency("accessor",o[u]).then(h=>(c[u]=h,c[u])));return l.length<1?null:(l.push(this.parser.createNodeMesh(t)),Promise.all(l).then(u=>{const h=u.pop(),f=h.isGroup?h.children:[h],C=u[0].count,g=[];for(const I of f){const H=new tn,G=new ge,_=new $t,P=new ge(1,1,1),k=new Ur(I.geometry,I.material,C);for(let x=0;x<C;x++)c.TRANSLATION&&G.fromBufferAttribute(c.TRANSLATION,x),c.ROTATION&&_.fromBufferAttribute(c.ROTATION,x),c.SCALE&&P.fromBufferAttribute(c.SCALE,x),k.setMatrixAt(x,H.compose(G,_,P));for(const x in c)if(x==="_COLOR_0"){const se=c[x];k.instanceColor=new Pr(se.array,se.itemSize,se.normalized)}else x!=="TRANSLATION"&&x!=="ROTATION"&&x!=="SCALE"&&I.geometry.setAttribute(x,c[x]);tr.prototype.copy.call(k,I),this.parser.assignFinalMaterial(k),g.push(k)}return h.isGroup?(h.clear(),h.add(...g),h):g[0]}))}}const Fr="glTF",Dt=12,Yn={JSON:1313821514,BIN:5130562};class To{constructor(t){this.name=Z.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(t,0,Dt);if(this.header={magic:nn(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Fr)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const e=this.header.length-Dt,r=new DataView(t,Dt);let i=0;for(;i<e;){const o=r.getUint32(i,!0);i+=4;const l=r.getUint32(i,!0);if(i+=4,l===Yn.JSON){const c=new Uint8Array(t,Dt+i,o);this.content=nn(c)}else if(l===Yn.BIN){const c=Dt+i;this.body=t.slice(c,c+o)}i+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Do{constructor(t,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Z.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(t,n){const e=this.json,r=this.dracoLoader,i=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,l={},c={},u={};for(const h in o){const f=Dn[h]||h.toLowerCase();l[f]=o[h]}for(const h in t.attributes){const f=Dn[h]||h.toLowerCase();if(o[h]!==void 0){const C=e.accessors[t.attributes[h]],g=pt[C.componentType];u[f]=g.name,c[f]=C.normalized===!0}}return n.getDependency("bufferView",i).then(function(h){return new Promise(function(f,C){r.decodeDracoFile(h,function(g){for(const I in g.attributes){const H=g.attributes[I],G=c[I];G!==void 0&&(H.normalized=G)}f(g)},l,u,je,C)})})}}class Go{constructor(){this.name=Z.KHR_TEXTURE_TRANSFORM}extendTexture(t,n){return(n.texCoord===void 0||n.texCoord===t.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(t=t.clone(),n.texCoord!==void 0&&(t.channel=n.texCoord),n.offset!==void 0&&t.offset.fromArray(n.offset),n.rotation!==void 0&&(t.rotation=n.rotation),n.scale!==void 0&&t.repeat.fromArray(n.scale),t.needsUpdate=!0),t}}class bo{constructor(){this.name=Z.KHR_MESH_QUANTIZATION}}class Rr extends Bs{constructor(t,n,e,r){super(t,n,e,r)}copySampleValue_(t){const n=this.resultBuffer,e=this.sampleValues,r=this.valueSize,i=t*r*3+r;for(let o=0;o!==r;o++)n[o]=e[i+o];return n}interpolate_(t,n,e,r){const i=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=l*2,u=l*3,h=r-n,f=(e-n)/h,C=f*f,g=C*f,I=t*u,H=I-u,G=-2*g+3*C,_=g-C,P=1-G,k=_-C+f;for(let x=0;x!==l;x++){const se=o[H+x+l],ne=o[H+x+c]*h,Ae=o[I+x+l],S=o[I+x]*h;i[x]=P*se+k*ne+G*Ae+_*S}return i}}const yo=new $t;class vo extends Rr{interpolate_(t,n,e,r){const i=super.interpolate_(t,n,e,r);return yo.fromArray(i).normalize().toArray(i),i}}const Le={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},pt={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Zn={9728:ts,9729:mt,9984:ns,9985:rs,9986:ss,9987:nr},Wn={33071:os,33648:is,10497:Fn},mn={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Dn={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Sn>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},We={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ho={CUBICSPLINE:void 0,LINEAR:or,STEP:as},En={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function So(a){return a.DefaultMaterial===void 0&&(a.DefaultMaterial=new rr({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:cs})),a.DefaultMaterial}function ot(a,t,n){for(const e in n.extensions)a[e]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[e]=n.extensions[e])}function Xe(a,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(a.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function _o(a,t,n){let e=!1,r=!1,i=!1;for(let u=0,h=t.length;u<h;u++){const f=t[u];if(f.POSITION!==void 0&&(e=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(i=!0),e&&r&&i)break}if(!e&&!r&&!i)return Promise.resolve(a);const o=[],l=[],c=[];for(let u=0,h=t.length;u<h;u++){const f=t[u];if(e){const C=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):a.attributes.position;o.push(C)}if(r){const C=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):a.attributes.normal;l.push(C)}if(i){const C=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):a.attributes.color;c.push(C)}}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(c)]).then(function(u){const h=u[0],f=u[1],C=u[2];return e&&(a.morphAttributes.position=h),r&&(a.morphAttributes.normal=f),i&&(a.morphAttributes.color=C),a.morphTargetsRelative=!0,a})}function Lo(a,t){if(a.updateMorphTargets(),t.weights!==void 0)for(let n=0,e=t.weights.length;n<e;n++)a.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(a.morphTargetInfluences.length===n.length){a.morphTargetDictionary={};for(let e=0,r=n.length;e<r;e++)a.morphTargetDictionary[n[e]]=e}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Oo(a){let t;const n=a.extensions&&a.extensions[Z.KHR_DRACO_MESH_COMPRESSION];if(n?t="draco:"+n.bufferView+":"+n.indices+":"+gn(n.attributes):t=a.indices+":"+gn(a.attributes)+":"+a.mode,a.targets!==void 0)for(let e=0,r=a.targets.length;e<r;e++)t+=":"+gn(a.targets[e]);return t}function gn(a){let t="";const n=Object.keys(a).sort();for(let e=0,r=n.length;e<r;e++)t+=n[e]+":"+a[n[e]]+";";return t}function Gn(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function wo(a){return a.search(/\.jpe?g($|\?)/i)>0||a.search(/^data\:image\/jpeg/)===0?"image/jpeg":a.search(/\.webp($|\?)/i)>0||a.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Jo=new tn;class Uo{constructor(t={},n={}){this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new oo,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let e=!1,r=!1,i=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,i=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||e||r&&i<98?this.textureLoader=new Nr(this.options.manager):this.textureLoader=new xr(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new en(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,n){const e=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([e.getDependencies("scene"),e.getDependencies("animation"),e.getDependencies("camera")])}).then(function(o){const l={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:e,userData:{}};return ot(i,l,r),Xe(l,r),Promise.all(e._invokeAll(function(c){return c.afterRoot&&c.afterRoot(l)})).then(function(){for(const c of l.scenes)c.updateMatrixWorld();t(l)})}).catch(n)}_markDefs(){const t=this.json.nodes||[],n=this.json.skins||[],e=this.json.meshes||[];for(let r=0,i=n.length;r<i;r++){const o=n[r].joints;for(let l=0,c=o.length;l<c;l++)t[o[l]].isBone=!0}for(let r=0,i=t.length;r<i;r++){const o=t[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(e[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(t,n){n!==void 0&&(t.refs[n]===void 0&&(t.refs[n]=t.uses[n]=0),t.refs[n]++)}_getNodeRef(t,n,e){if(t.refs[n]<=1)return e;const r=e.clone(),i=(o,l)=>{const c=this.associations.get(o);c!=null&&this.associations.set(l,c);for(const[u,h]of o.children.entries())i(h,l.children[u])};return i(e,r),r.name+="_instance_"+t.uses[n]++,r}_invokeOne(t){const n=Object.values(this.plugins);n.push(this);for(let e=0;e<n.length;e++){const r=t(n[e]);if(r)return r}return null}_invokeAll(t){const n=Object.values(this.plugins);n.unshift(this);const e=[];for(let r=0;r<n.length;r++){const i=t(n[r]);i&&e.push(i)}return e}getDependency(t,n){const e=t+":"+n;let r=this.cache.get(e);if(!r){switch(t){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(i){return i.loadNode&&i.loadNode(n)});break;case"mesh":r=this._invokeOne(function(i){return i.loadMesh&&i.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(i){return i.loadBufferView&&i.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(i){return i.loadMaterial&&i.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(i){return i.loadTexture&&i.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(i){return i.loadAnimation&&i.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(t,n)}),!r)throw new Error("Unknown type: "+t);break}this.cache.add(e,r)}return r}getDependencies(t){let n=this.cache.get(t);if(!n){const e=this,r=this.json[t+(t==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(i,o){return e.getDependency(t,o)})),this.cache.add(t,n)}return n}loadBuffer(t){const n=this.json.buffers[t],e=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&t===0)return Promise.resolve(this.extensions[Z.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(i,o){e.load(yt.resolveURL(n.uri,r.path),i,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(t){const n=this.json.bufferViews[t];return this.getDependency("buffer",n.buffer).then(function(e){const r=n.byteLength||0,i=n.byteOffset||0;return e.slice(i,i+r)})}loadAccessor(t){const n=this,e=this.json,r=this.json.accessors[t];if(r.bufferView===void 0&&r.sparse===void 0){const o=mn[r.type],l=pt[r.componentType],c=r.normalized===!0,u=new l(r.count*o);return Promise.resolve(new vt(u,o,c))}const i=[];return r.bufferView!==void 0?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),r.sparse!==void 0&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then(function(o){const l=o[0],c=mn[r.type],u=pt[r.componentType],h=u.BYTES_PER_ELEMENT,f=h*c,C=r.byteOffset||0,g=r.bufferView!==void 0?e.bufferViews[r.bufferView].byteStride:void 0,I=r.normalized===!0;let H,G;if(g&&g!==f){const _=Math.floor(C/g),P="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+_+":"+r.count;let k=n.cache.get(P);k||(H=new u(l,_*g,r.count*g/h),k=new Kr(H,g/h),n.cache.add(P,k)),G=new As(k,c,C%g/h,I)}else l===null?H=new u(r.count*c):H=new u(l,C,r.count*c),G=new vt(H,c,I);if(r.sparse!==void 0){const _=mn.SCALAR,P=pt[r.sparse.indices.componentType],k=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,se=new P(o[1],k,r.sparse.count*_),ne=new u(o[2],x,r.sparse.count*c);l!==null&&(G=new vt(G.array.slice(),G.itemSize,G.normalized));for(let Ae=0,S=se.length;Ae<S;Ae++){const K=se[Ae];if(G.setX(K,ne[Ae*c]),c>=2&&G.setY(K,ne[Ae*c+1]),c>=3&&G.setZ(K,ne[Ae*c+2]),c>=4&&G.setW(K,ne[Ae*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return G})}loadTexture(t){const n=this.json,e=this.options,i=n.textures[t].source,o=n.images[i];let l=this.textureLoader;if(o.uri){const c=e.manager.getHandler(o.uri);c!==null&&(l=c)}return this.loadTextureImage(t,i,l)}loadTextureImage(t,n,e){const r=this,i=this.json,o=i.textures[t],l=i.images[n],c=(l.uri||l.bufferView)+":"+o.sampler;if(this.textureCache[c])return this.textureCache[c];const u=this.loadImageSource(n,e).then(function(h){h.flipY=!1,h.name=o.name||l.name||"",h.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(h.name=l.uri);const C=(i.samplers||{})[o.sampler]||{};return h.magFilter=Zn[C.magFilter]||mt,h.minFilter=Zn[C.minFilter]||nr,h.wrapS=Wn[C.wrapS]||Fn,h.wrapT=Wn[C.wrapT]||Fn,r.associations.set(h,{textures:t}),h}).catch(function(){return null});return this.textureCache[c]=u,u}loadImageSource(t,n){const e=this,r=this.json,i=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(f=>f.clone());const o=r.images[t],l=self.URL||self.webkitURL;let c=o.uri||"",u=!1;if(o.bufferView!==void 0)c=e.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const C=new Blob([f],{type:o.mimeType});return c=l.createObjectURL(C),c});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const h=Promise.resolve(c).then(function(f){return new Promise(function(C,g){let I=C;n.isImageBitmapLoader===!0&&(I=function(H){const G=new wn(H);G.needsUpdate=!0,C(G)}),n.load(yt.resolveURL(f,i.path),I,void 0,g)})}).then(function(f){return u===!0&&l.revokeObjectURL(c),Xe(f,o),f.userData.mimeType=o.mimeType||wo(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),f});return this.sourceCache[t]=h,h}assignTexture(t,n,e,r){const i=this;return this.getDependency("texture",e.index).then(function(o){if(!o)return null;if(e.texCoord!==void 0&&e.texCoord>0&&(o=o.clone(),o.channel=e.texCoord),i.extensions[Z.KHR_TEXTURE_TRANSFORM]){const l=e.extensions!==void 0?e.extensions[Z.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const c=i.associations.get(o);o=i.extensions[Z.KHR_TEXTURE_TRANSFORM].extendTexture(o,l),i.associations.set(o,c)}}return r!==void 0&&(typeof r=="number"&&(r=r===jn?it:je),"colorSpace"in o?o.colorSpace=r:o.encoding=r===it?jn:so),t[n]=o,o})}assignFinalMaterial(t){const n=t.geometry;let e=t.material;const r=n.attributes.tangent===void 0,i=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(t.isPoints){const l="PointsMaterial:"+e.uuid;let c=this.cache.get(l);c||(c=new kr,hn.prototype.copy.call(c,e),c.color.copy(e.color),c.map=e.map,c.sizeAttenuation=!1,this.cache.add(l,c)),e=c}else if(t.isLine){const l="LineBasicMaterial:"+e.uuid;let c=this.cache.get(l);c||(c=new Qr,hn.prototype.copy.call(c,e),c.color.copy(e.color),c.map=e.map,this.cache.add(l,c)),e=c}if(r||i||o){let l="ClonedMaterial:"+e.uuid+":";r&&(l+="derivative-tangents:"),i&&(l+="vertex-colors:"),o&&(l+="flat-shading:");let c=this.cache.get(l);c||(c=e.clone(),i&&(c.vertexColors=!0),o&&(c.flatShading=!0),r&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(l,c),this.associations.set(c,this.associations.get(e))),e=c}t.material=e}getMaterialType(){return rr}loadMaterial(t){const n=this,e=this.json,r=this.extensions,i=e.materials[t];let o;const l={},c=i.extensions||{},u=[];if(c[Z.KHR_MATERIALS_UNLIT]){const f=r[Z.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(l,i,n))}else{const f=i.pbrMetallicRoughness||{};if(l.color=new at(1,1,1),l.opacity=1,Array.isArray(f.baseColorFactor)){const C=f.baseColorFactor;l.color.setRGB(C[0],C[1],C[2],je),l.opacity=C[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(l,"map",f.baseColorTexture,it)),l.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,l.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(l,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(l,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(C){return C.getMaterialType&&C.getMaterialType(t)}),u.push(Promise.all(this._invokeAll(function(C){return C.extendMaterialParams&&C.extendMaterialParams(t,l)})))}i.doubleSided===!0&&(l.side=$n);const h=i.alphaMode||En.OPAQUE;if(h===En.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,h===En.MASK&&(l.alphaTest=i.alphaCutoff!==void 0?i.alphaCutoff:.5)),i.normalTexture!==void 0&&o!==bt&&(u.push(n.assignTexture(l,"normalMap",i.normalTexture)),l.normalScale=new ve(1,1),i.normalTexture.scale!==void 0)){const f=i.normalTexture.scale;l.normalScale.set(f,f)}if(i.occlusionTexture!==void 0&&o!==bt&&(u.push(n.assignTexture(l,"aoMap",i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&o!==bt){const f=i.emissiveFactor;l.emissive=new at().setRGB(f[0],f[1],f[2],je)}return i.emissiveTexture!==void 0&&o!==bt&&u.push(n.assignTexture(l,"emissiveMap",i.emissiveTexture,it)),Promise.all(u).then(function(){const f=new o(l);return i.name&&(f.name=i.name),Xe(f,i),n.associations.set(f,{materials:t}),i.extensions&&ot(r,f,i),f})}createUniqueName(t){const n=Xr.sanitizeNodeName(t||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(t){const n=this,e=this.extensions,r=this.primitiveCache;function i(l){return e[Z.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,n).then(function(c){return Vn(c,l,n)})}const o=[];for(let l=0,c=t.length;l<c;l++){const u=t[l],h=Oo(u),f=r[h];if(f)o.push(f.promise);else{let C;u.extensions&&u.extensions[Z.KHR_DRACO_MESH_COMPRESSION]?C=i(u):C=Vn(new sr,u,n),r[h]={primitive:u,promise:C},o.push(C)}}return Promise.all(o)}loadMesh(t){const n=this,e=this.json,r=this.extensions,i=e.meshes[t],o=i.primitives,l=[];for(let c=0,u=o.length;c<u;c++){const h=o[c].material===void 0?So(this.cache):this.getDependency("material",o[c].material);l.push(h)}return l.push(n.loadGeometries(o)),Promise.all(l).then(function(c){const u=c.slice(0,c.length-1),h=c[c.length-1],f=[];for(let g=0,I=h.length;g<I;g++){const H=h[g],G=o[g];let _;const P=u[g];if(G.mode===Le.TRIANGLES||G.mode===Le.TRIANGLE_STRIP||G.mode===Le.TRIANGLE_FAN||G.mode===void 0)_=i.isSkinnedMesh===!0?new jr(H,P):new qn(H,P),_.isSkinnedMesh===!0&&_.normalizeSkinWeights(),G.mode===Le.TRIANGLE_STRIP?_.geometry=kn(_.geometry,zn):G.mode===Le.TRIANGLE_FAN&&(_.geometry=kn(_.geometry,Mn));else if(G.mode===Le.LINES)_=new Yr(H,P);else if(G.mode===Le.LINE_STRIP)_=new Zr(H,P);else if(G.mode===Le.LINE_LOOP)_=new Wr(H,P);else if(G.mode===Le.POINTS)_=new Vr(H,P);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+G.mode);Object.keys(_.geometry.morphAttributes).length>0&&Lo(_,i),_.name=n.createUniqueName(i.name||"mesh_"+t),Xe(_,i),G.extensions&&ot(r,_,G),n.assignFinalMaterial(_),f.push(_)}for(let g=0,I=f.length;g<I;g++)n.associations.set(f[g],{meshes:t,primitives:g});if(f.length===1)return i.extensions&&ot(r,f[0],i),f[0];const C=new fn;i.extensions&&ot(r,C,i),n.associations.set(C,{meshes:t});for(let g=0,I=f.length;g<I;g++)C.add(f[g]);return C})}loadCamera(t){let n;const e=this.json.cameras[t],r=e[e.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return e.type==="perspective"?n=new Wt(zr.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):e.type==="orthographic"&&(n=new Vt(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),e.name&&(n.name=this.createUniqueName(e.name)),Xe(n,e),Promise.resolve(n)}loadSkin(t){const n=this.json.skins[t],e=[];for(let r=0,i=n.joints.length;r<i;r++)e.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?e.push(this.getDependency("accessor",n.inverseBindMatrices)):e.push(null),Promise.all(e).then(function(r){const i=r.pop(),o=r,l=[],c=[];for(let u=0,h=o.length;u<h;u++){const f=o[u];if(f){l.push(f);const C=new tn;i!==null&&C.fromArray(i.array,u*16),c.push(C)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new qr(l,c)})}loadAnimation(t){const n=this.json,e=this,r=n.animations[t],i=r.name?r.name:"animation_"+t,o=[],l=[],c=[],u=[],h=[];for(let f=0,C=r.channels.length;f<C;f++){const g=r.channels[f],I=r.samplers[g.sampler],H=g.target,G=H.node,_=r.parameters!==void 0?r.parameters[I.input]:I.input,P=r.parameters!==void 0?r.parameters[I.output]:I.output;H.node!==void 0&&(o.push(this.getDependency("node",G)),l.push(this.getDependency("accessor",_)),c.push(this.getDependency("accessor",P)),u.push(I),h.push(H))}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(u),Promise.all(h)]).then(function(f){const C=f[0],g=f[1],I=f[2],H=f[3],G=f[4],_=[];for(let P=0,k=C.length;P<k;P++){const x=C[P],se=g[P],ne=I[P],Ae=H[P],S=G[P];if(x===void 0)continue;x.updateMatrix&&x.updateMatrix();const K=e._createAnimationTracks(x,se,ne,Ae,S);if(K)for(let L=0;L<K.length;L++)_.push(K[L])}return new $r(i,void 0,_)})}createNodeMesh(t){const n=this.json,e=this,r=n.nodes[t];return r.mesh===void 0?null:e.getDependency("mesh",r.mesh).then(function(i){const o=e._getNodeRef(e.meshCache,r.mesh,i);return r.weights!==void 0&&o.traverse(function(l){if(l.isMesh)for(let c=0,u=r.weights.length;c<u;c++)l.morphTargetInfluences[c]=r.weights[c]}),o})}loadNode(t){const n=this.json,e=this,r=n.nodes[t],i=e._loadNodeShallow(t),o=[],l=r.children||[];for(let u=0,h=l.length;u<h;u++)o.push(e.getDependency("node",l[u]));const c=r.skin===void 0?Promise.resolve(null):e.getDependency("skin",r.skin);return Promise.all([i,Promise.all(o),c]).then(function(u){const h=u[0],f=u[1],C=u[2];C!==null&&h.traverse(function(g){g.isSkinnedMesh&&g.bind(C,Jo)});for(let g=0,I=f.length;g<I;g++)h.add(f[g]);return h})}_loadNodeShallow(t){const n=this.json,e=this.extensions,r=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const i=n.nodes[t],o=i.name?r.createUniqueName(i.name):"",l=[],c=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(t)});return c&&l.push(c),i.camera!==void 0&&l.push(r.getDependency("camera",i.camera).then(function(u){return r._getNodeRef(r.cameraCache,i.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(t)}).forEach(function(u){l.push(u)}),this.nodeCache[t]=Promise.all(l).then(function(u){let h;if(i.isBone===!0?h=new es:u.length>1?h=new fn:u.length===1?h=u[0]:h=new tr,h!==u[0])for(let f=0,C=u.length;f<C;f++)h.add(u[f]);if(i.name&&(h.userData.name=i.name,h.name=o),Xe(h,i),i.extensions&&ot(e,h,i),i.matrix!==void 0){const f=new tn;f.fromArray(i.matrix),h.applyMatrix4(f)}else i.translation!==void 0&&h.position.fromArray(i.translation),i.rotation!==void 0&&h.quaternion.fromArray(i.rotation),i.scale!==void 0&&h.scale.fromArray(i.scale);return r.associations.has(h)||r.associations.set(h,{}),r.associations.get(h).nodes=t,h}),this.nodeCache[t]}loadScene(t){const n=this.extensions,e=this.json.scenes[t],r=this,i=new fn;e.name&&(i.name=r.createUniqueName(e.name)),Xe(i,e),e.extensions&&ot(n,i,e);const o=e.nodes||[],l=[];for(let c=0,u=o.length;c<u;c++)l.push(r.getDependency("node",o[c]));return Promise.all(l).then(function(c){for(let h=0,f=c.length;h<f;h++)i.add(c[h]);const u=h=>{const f=new Map;for(const[C,g]of r.associations)(C instanceof hn||C instanceof wn)&&f.set(C,g);return h.traverse(C=>{const g=r.associations.get(C);g!=null&&f.set(C,g)}),f};return r.associations=u(i),i})}_createAnimationTracks(t,n,e,r,i){const o=[],l=t.name?t.name:t.uuid,c=[];We[i.path]===We.weights?t.traverse(function(C){C.morphTargetInfluences&&c.push(C.name?C.name:C.uuid)}):c.push(l);let u;switch(We[i.path]){case We.weights:u=Un;break;case We.rotation:u=Pn;break;case We.position:case We.scale:u=Jn;break;default:switch(e.itemSize){case 1:u=Un;break;case 2:case 3:default:u=Jn;break}break}const h=r.interpolation!==void 0?Ho[r.interpolation]:or,f=this._getArrayFromAccessor(e);for(let C=0,g=c.length;C<g;C++){const I=new u(c[C]+"."+We[i.path],n.array,f,h);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(I),o.push(I)}return o}_getArrayFromAccessor(t){let n=t.array;if(t.normalized){const e=Gn(n.constructor),r=new Float32Array(n.length);for(let i=0,o=n.length;i<o;i++)r[i]=n[i]*e;n=r}return n}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(e){const r=this instanceof Pn?vo:Rr;return new r(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Po(a,t,n){const e=t.attributes,r=new ls;if(e.POSITION!==void 0){const l=n.json.accessors[e.POSITION],c=l.min,u=l.max;if(c!==void 0&&u!==void 0){if(r.set(new ge(c[0],c[1],c[2]),new ge(u[0],u[1],u[2])),l.normalized){const h=Gn(pt[l.componentType]);r.min.multiplyScalar(h),r.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const i=t.targets;if(i!==void 0){const l=new ge,c=new ge;for(let u=0,h=i.length;u<h;u++){const f=i[u];if(f.POSITION!==void 0){const C=n.json.accessors[f.POSITION],g=C.min,I=C.max;if(g!==void 0&&I!==void 0){if(c.setX(Math.max(Math.abs(g[0]),Math.abs(I[0]))),c.setY(Math.max(Math.abs(g[1]),Math.abs(I[1]))),c.setZ(Math.max(Math.abs(g[2]),Math.abs(I[2]))),C.normalized){const H=Gn(pt[C.componentType]);c.multiplyScalar(H)}l.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(l)}a.boundingBox=r;const o=new us;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,a.boundingSphere=o}function Vn(a,t,n){const e=t.attributes,r=[];function i(o,l){return n.getDependency("accessor",o).then(function(c){a.setAttribute(l,c)})}for(const o in e){const l=Dn[o]||o.toLowerCase();l in a.attributes||r.push(i(e[o],l))}if(t.indices!==void 0&&!a.index){const o=n.getDependency("accessor",t.indices).then(function(l){a.setIndex(l)});r.push(o)}return Xe(a,t),Po(a,t,n),Promise.all(r).then(function(){return t.targets!==void 0?_o(a,t.targets,n):a})}class Yo extends ir{constructor(t){super(t),this.type=Ve}parse(t){const o=function(S,K){switch(S){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(K||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(K||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(K||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(K||""))}},h=`
`,f=function(S,K,L){K=K||1024;let z=S.pos,j=-1,N=0,oe="",X=String.fromCharCode.apply(null,new Uint16Array(S.subarray(z,z+128)));for(;0>(j=X.indexOf(h))&&N<K&&z<S.byteLength;)oe+=X,N+=X.length,z+=128,X+=String.fromCharCode.apply(null,new Uint16Array(S.subarray(z,z+128)));return-1<j?(S.pos+=N+j+1,oe+X.slice(0,j)):!1},C=function(S){const K=/^#\?(\S+)/,L=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,$=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,z=/^\s*FORMAT=(\S+)\s*$/,j=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,N={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let oe,X;for((S.pos>=S.byteLength||!(oe=f(S)))&&o(1,"no header found"),(X=oe.match(K))||o(3,"bad initial token"),N.valid|=1,N.programtype=X[1],N.string+=oe+`
`;oe=f(S),oe!==!1;){if(N.string+=oe+`
`,oe.charAt(0)==="#"){N.comments+=oe+`
`;continue}if((X=oe.match(L))&&(N.gamma=parseFloat(X[1])),(X=oe.match($))&&(N.exposure=parseFloat(X[1])),(X=oe.match(z))&&(N.valid|=2,N.format=X[1]),(X=oe.match(j))&&(N.valid|=4,N.height=parseInt(X[1],10),N.width=parseInt(X[2],10)),N.valid&2&&N.valid&4)break}return N.valid&2||o(3,"missing format specifier"),N.valid&4||o(3,"missing image size specifier"),N},g=function(S,K,L){const $=K;if($<8||$>32767||S[0]!==2||S[1]!==2||S[2]&128)return new Uint8Array(S);$!==(S[2]<<8|S[3])&&o(3,"wrong scanline width");const z=new Uint8Array(4*K*L);z.length||o(4,"unable to allocate buffer space");let j=0,N=0;const oe=4*$,X=new Uint8Array(4),De=new Uint8Array(oe);let Ge=L;for(;Ge>0&&N<S.byteLength;){N+4>S.byteLength&&o(1),X[0]=S[N++],X[1]=S[N++],X[2]=S[N++],X[3]=S[N++],(X[0]!=2||X[1]!=2||(X[2]<<8|X[3])!=$)&&o(3,"bad rgbe scanline format");let Me=0,ee;for(;Me<oe&&N<S.byteLength;){ee=S[N++];const ie=ee>128;if(ie&&(ee-=128),(ee===0||Me+ee>oe)&&o(3,"bad scanline data"),ie){const Ce=S[N++];for(let be=0;be<ee;be++)De[Me++]=Ce}else De.set(S.subarray(N,N+ee),Me),Me+=ee,N+=ee}const He=$;for(let ie=0;ie<He;ie++){let Ce=0;z[j]=De[ie+Ce],Ce+=$,z[j+1]=De[ie+Ce],Ce+=$,z[j+2]=De[ie+Ce],Ce+=$,z[j+3]=De[ie+Ce],j+=4}Ge--}return z},I=function(S,K,L,$){const z=S[K+3],j=Math.pow(2,z-128)/255;L[$+0]=S[K+0]*j,L[$+1]=S[K+1]*j,L[$+2]=S[K+2]*j,L[$+3]=1},H=function(S,K,L,$){const z=S[K+3],j=Math.pow(2,z-128)/255;L[$+0]=dt.toHalfFloat(Math.min(S[K+0]*j,65504)),L[$+1]=dt.toHalfFloat(Math.min(S[K+1]*j,65504)),L[$+2]=dt.toHalfFloat(Math.min(S[K+2]*j,65504)),L[$+3]=dt.toHalfFloat(1)},G=new Uint8Array(t);G.pos=0;const _=C(G),P=_.width,k=_.height,x=g(G.subarray(G.pos),P,k);let se,ne,Ae;switch(this.type){case Ct:Ae=x.length/4;const S=new Float32Array(Ae*4);for(let L=0;L<Ae;L++)I(x,L*4,S,L*4);se=S,ne=Ct;break;case Ve:Ae=x.length/4;const K=new Uint16Array(Ae*4);for(let L=0;L<Ae;L++)H(x,L*4,K,L*4);se=K,ne=Ve;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:P,height:k,data:se,header:_.string,gamma:_.gamma,exposure:_.exposure,type:ne}}setDataType(t){return this.type=t,this}load(t,n,e,r){function i(o,l){switch(o.type){case Ct:case Ve:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=mt,o.magFilter=mt,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,l)}return super.load(t,i,e,r)}}const Gt=Sn>=152;class Zo extends ir{constructor(t){super(t),this.type=Ve}parse(t){const K=Math.pow(2.7182818,2.2);function L(s,A){for(var B=0,p=0;p<65536;++p)(p==0||s[p>>3]&1<<(p&7))&&(A[B++]=p);for(var m=B-1;B<65536;)A[B++]=0;return m}function $(s){for(var A=0;A<16384;A++)s[A]={},s[A].len=0,s[A].lit=0,s[A].p=null}const z={l:0,c:0,lc:0};function j(s,A,B,p,m){for(;B<s;)A=A<<8|ut(p,m),B+=8;B-=s,z.l=A>>B&(1<<s)-1,z.c=A,z.lc=B}const N=new Array(59);function oe(s){for(var A=0;A<=58;++A)N[A]=0;for(var A=0;A<65537;++A)N[s[A]]+=1;for(var B=0,A=58;A>0;--A){var p=B+N[A]>>1;N[A]=B,B=p}for(var A=0;A<65537;++A){var m=s[A];m>0&&(s[A]=m|N[m]++<<6)}}function X(s,A,B,p,m,E,R){for(var M=B,y=0,b=0;m<=E;m++){if(M.value-B.value>p)return!1;j(6,y,b,s,M);var v=z.l;if(y=z.c,b=z.lc,R[m]=v,v==63){if(M.value-B.value>p)throw"Something wrong with hufUnpackEncTable";j(8,y,b,s,M);var D=z.l+6;if(y=z.c,b=z.lc,m+D>E+1)throw"Something wrong with hufUnpackEncTable";for(;D--;)R[m++]=0;m--}else if(v>=59){var D=v-59+2;if(m+D>E+1)throw"Something wrong with hufUnpackEncTable";for(;D--;)R[m++]=0;m--}}oe(R)}function De(s){return s&63}function Ge(s){return s>>6}function Me(s,A,B,p){for(;A<=B;A++){var m=Ge(s[A]),E=De(s[A]);if(m>>E)throw"Invalid table entry";if(E>14){var R=p[m>>E-14];if(R.len)throw"Invalid table entry";if(R.lit++,R.p){var M=R.p;R.p=new Array(R.lit);for(var y=0;y<R.lit-1;++y)R.p[y]=M[y]}else R.p=new Array(1);R.p[R.lit-1]=A}else if(E)for(var b=0,y=1<<14-E;y>0;y--){var R=p[(m<<14-E)+b];if(R.len||R.p)throw"Invalid table entry";R.len=E,R.lit=A,b++}}return!0}const ee={c:0,lc:0};function He(s,A,B,p){s=s<<8|ut(B,p),A+=8,ee.c=s,ee.lc=A}const ie={c:0,lc:0};function Ce(s,A,B,p,m,E,R,M,y,b){if(s==A){p<8&&(He(B,p,m,R),B=ee.c,p=ee.lc),p-=8;var v=B>>p,v=new Uint8Array([v])[0];if(y.value+v>b)return!1;for(var D=M[y.value-1];v-- >0;)M[y.value++]=D}else if(y.value<b)M[y.value++]=s;else return!1;ie.c=B,ie.lc=p}function be(s){return s&65535}function qe(s){var A=be(s);return A>32767?A-65536:A}const te={a:0,b:0};function we(s,A){var B=qe(s),p=qe(A),m=p,E=B+(m&1)+(m>>1),R=E,M=E-m;te.a=R,te.b=M}function Je(s,A){var B=be(s),p=be(A),m=B-(p>>1)&65535,E=p+m-32768&65535;te.a=E,te.b=m}function sn(s,A,B,p,m,E,R){for(var M=R<16384,y=B>m?m:B,b=1,v;b<=y;)b<<=1;for(b>>=1,v=b,b>>=1;b>=1;){for(var D=0,de=D+E*(m-v),w=E*b,J=E*v,Q=p*b,Y=p*v,ae,le,pe,Re;D<=de;D+=J){for(var ue=D,Ke=D+p*(B-v);ue<=Ke;ue+=Y){var Be=ue+Q,me=ue+w,Qe=me+Q;M?(we(s[ue+A],s[me+A]),ae=te.a,pe=te.b,we(s[Be+A],s[Qe+A]),le=te.a,Re=te.b,we(ae,le),s[ue+A]=te.a,s[Be+A]=te.b,we(pe,Re),s[me+A]=te.a,s[Qe+A]=te.b):(Je(s[ue+A],s[me+A]),ae=te.a,pe=te.b,Je(s[Be+A],s[Qe+A]),le=te.a,Re=te.b,Je(ae,le),s[ue+A]=te.a,s[Be+A]=te.b,Je(pe,Re),s[me+A]=te.a,s[Qe+A]=te.b)}if(B&b){var me=ue+w;M?we(s[ue+A],s[me+A]):Je(s[ue+A],s[me+A]),ae=te.a,s[me+A]=te.b,s[ue+A]=ae}}if(m&b)for(var ue=D,Ke=D+p*(B-v);ue<=Ke;ue+=Y){var Be=ue+Q;M?we(s[ue+A],s[Be+A]):Je(s[ue+A],s[Be+A]),ae=te.a,s[Be+A]=te.b,s[ue+A]=ae}v=b,b>>=1}return D}function on(s,A,B,p,m,E,R,M,y,b){for(var v=0,D=0,de=M,w=Math.trunc(m.value+(E+7)/8);m.value<w;)for(He(v,D,B,m),v=ee.c,D=ee.lc;D>=14;){var J=v>>D-14&16383,Q=A[J];if(Q.len)D-=Q.len,Ce(Q.lit,R,v,D,B,p,m,y,b,de),v=ie.c,D=ie.lc;else{if(!Q.p)throw"hufDecode issues";var Y;for(Y=0;Y<Q.lit;Y++){for(var ae=De(s[Q.p[Y]]);D<ae&&m.value<w;)He(v,D,B,m),v=ee.c,D=ee.lc;if(D>=ae&&Ge(s[Q.p[Y]])==(v>>D-ae&(1<<ae)-1)){D-=ae,Ce(Q.p[Y],R,v,D,B,p,m,y,b,de),v=ie.c,D=ie.lc;break}}if(Y==Q.lit)throw"hufDecode issues"}}var le=8-E&7;for(v>>=le,D-=le;D>0;){var Q=A[v<<14-D&16383];if(Q.len)D-=Q.len,Ce(Q.lit,R,v,D,B,p,m,y,b,de),v=ie.c,D=ie.lc;else throw"hufDecode issues"}return!0}function Lt(s,A,B,p,m,E){var R={value:0},M=B.value,y=Ee(A,B),b=Ee(A,B);B.value+=4;var v=Ee(A,B);if(B.value+=4,y<0||y>=65537||b<0||b>=65537)throw"Something wrong with HUF_ENCSIZE";var D=new Array(65537),de=new Array(16384);$(de);var w=p-(B.value-M);if(X(s,A,B,w,y,b,D),v>8*(p-(B.value-M)))throw"Something wrong with hufUncompress";Me(D,y,b,de),on(D,de,s,A,B,v,b,E,m,R)}function Ot(s,A,B){for(var p=0;p<B;++p)A[p]=s[A[p]]}function gt(s){for(var A=1;A<s.length;A++){var B=s[A-1]+s[A]-128;s[A]=B}}function It(s,A){for(var B=0,p=Math.floor((s.length+1)/2),m=0,E=s.length-1;!(m>E||(A[m++]=s[B++],m>E));)A[m++]=s[p++]}function wt(s){for(var A=s.byteLength,B=new Array,p=0,m=new DataView(s);A>0;){var E=m.getInt8(p++);if(E<0){var R=-E;A-=R+1;for(var M=0;M<R;M++)B.push(m.getUint8(p++))}else{var R=E;A-=2;for(var y=m.getUint8(p++),M=0;M<R+1;M++)B.push(y)}}return B}function an(s,A,B,p,m,E){var Be=new DataView(E.buffer),R=B[s.idx[0]].width,M=B[s.idx[0]].height,y=3,b=Math.floor(R/8),v=Math.ceil(R/8),D=Math.ceil(M/8),de=R-(v-1)*8,w=M-(D-1)*8,J={value:0},Q=new Array(y),Y=new Array(y),ae=new Array(y),le=new Array(y),pe=new Array(y);for(let ce=0;ce<y;++ce)pe[ce]=A[s.idx[ce]],Q[ce]=ce<1?0:Q[ce-1]+v*D,Y[ce]=new Float32Array(64),ae[ce]=new Uint16Array(64),le[ce]=new Uint16Array(v*64);for(let ce=0;ce<D;++ce){var Re=8;ce==D-1&&(Re=w);var ue=8;for(let fe=0;fe<v;++fe){fe==v-1&&(ue=de);for(let re=0;re<y;++re)ae[re].fill(0),ae[re][0]=m[Q[re]++],Jt(J,p,ae[re]),Ut(ae[re],Y[re]),Pt(Y[re]);cn(Y);for(let re=0;re<y;++re)An(Y[re],le[re],fe*64)}let Ie=0;for(let fe=0;fe<y;++fe){const re=B[s.idx[fe]].type;for(let _e=8*ce;_e<8*ce+Re;++_e){Ie=pe[fe][_e];for(let st=0;st<b;++st){const ye=st*64+(_e&7)*8;Be.setUint16(Ie+0*2*re,le[fe][ye+0],!0),Be.setUint16(Ie+1*2*re,le[fe][ye+1],!0),Be.setUint16(Ie+2*2*re,le[fe][ye+2],!0),Be.setUint16(Ie+3*2*re,le[fe][ye+3],!0),Be.setUint16(Ie+4*2*re,le[fe][ye+4],!0),Be.setUint16(Ie+5*2*re,le[fe][ye+5],!0),Be.setUint16(Ie+6*2*re,le[fe][ye+6],!0),Be.setUint16(Ie+7*2*re,le[fe][ye+7],!0),Ie+=8*2*re}}if(b!=v)for(let _e=8*ce;_e<8*ce+Re;++_e){const st=pe[fe][_e]+8*b*2*re,ye=b*64+(_e&7)*8;for(let Ye=0;Ye<ue;++Ye)Be.setUint16(st+Ye*2*re,le[fe][ye+Ye],!0)}}}for(var Ke=new Uint16Array(R),Be=new DataView(E.buffer),me=0;me<y;++me){B[s.idx[me]].decoded=!0;var Qe=B[s.idx[me]].type;if(B[me].type==2)for(var Tt=0;Tt<M;++Tt){const ce=pe[me][Tt];for(var Se=0;Se<R;++Se)Ke[Se]=Be.getUint16(ce+Se*2*Qe,!0);for(var Se=0;Se<R;++Se)Be.setFloat32(ce+Se*2*Qe,T(Ke[Se]),!0)}}}function Jt(s,A,B){for(var p,m=1;m<64;)p=A[s.value],p==65280?m=64:p>>8==255?m+=p&255:(B[m]=p,m++),s.value++}function Ut(s,A){A[0]=T(s[0]),A[1]=T(s[1]),A[2]=T(s[5]),A[3]=T(s[6]),A[4]=T(s[14]),A[5]=T(s[15]),A[6]=T(s[27]),A[7]=T(s[28]),A[8]=T(s[2]),A[9]=T(s[4]),A[10]=T(s[7]),A[11]=T(s[13]),A[12]=T(s[16]),A[13]=T(s[26]),A[14]=T(s[29]),A[15]=T(s[42]),A[16]=T(s[3]),A[17]=T(s[8]),A[18]=T(s[12]),A[19]=T(s[17]),A[20]=T(s[25]),A[21]=T(s[30]),A[22]=T(s[41]),A[23]=T(s[43]),A[24]=T(s[9]),A[25]=T(s[11]),A[26]=T(s[18]),A[27]=T(s[24]),A[28]=T(s[31]),A[29]=T(s[40]),A[30]=T(s[44]),A[31]=T(s[53]),A[32]=T(s[10]),A[33]=T(s[19]),A[34]=T(s[23]),A[35]=T(s[32]),A[36]=T(s[39]),A[37]=T(s[45]),A[38]=T(s[52]),A[39]=T(s[54]),A[40]=T(s[20]),A[41]=T(s[22]),A[42]=T(s[33]),A[43]=T(s[38]),A[44]=T(s[46]),A[45]=T(s[51]),A[46]=T(s[55]),A[47]=T(s[60]),A[48]=T(s[21]),A[49]=T(s[34]),A[50]=T(s[37]),A[51]=T(s[47]),A[52]=T(s[50]),A[53]=T(s[56]),A[54]=T(s[59]),A[55]=T(s[61]),A[56]=T(s[35]),A[57]=T(s[36]),A[58]=T(s[48]),A[59]=T(s[49]),A[60]=T(s[57]),A[61]=T(s[58]),A[62]=T(s[62]),A[63]=T(s[63])}function Pt(s){const A=.5*Math.cos(.7853975),B=.5*Math.cos(3.14159/16),p=.5*Math.cos(3.14159/8),m=.5*Math.cos(3*3.14159/16),E=.5*Math.cos(5*3.14159/16),R=.5*Math.cos(3*3.14159/8),M=.5*Math.cos(7*3.14159/16);for(var y=new Array(4),b=new Array(4),v=new Array(4),D=new Array(4),de=0;de<8;++de){var w=de*8;y[0]=p*s[w+2],y[1]=R*s[w+2],y[2]=p*s[w+6],y[3]=R*s[w+6],b[0]=B*s[w+1]+m*s[w+3]+E*s[w+5]+M*s[w+7],b[1]=m*s[w+1]-M*s[w+3]-B*s[w+5]-E*s[w+7],b[2]=E*s[w+1]-B*s[w+3]+M*s[w+5]+m*s[w+7],b[3]=M*s[w+1]-E*s[w+3]+m*s[w+5]-B*s[w+7],v[0]=A*(s[w+0]+s[w+4]),v[3]=A*(s[w+0]-s[w+4]),v[1]=y[0]+y[3],v[2]=y[1]-y[2],D[0]=v[0]+v[1],D[1]=v[3]+v[2],D[2]=v[3]-v[2],D[3]=v[0]-v[1],s[w+0]=D[0]+b[0],s[w+1]=D[1]+b[1],s[w+2]=D[2]+b[2],s[w+3]=D[3]+b[3],s[w+4]=D[3]-b[3],s[w+5]=D[2]-b[2],s[w+6]=D[1]-b[1],s[w+7]=D[0]-b[0]}for(var J=0;J<8;++J)y[0]=p*s[16+J],y[1]=R*s[16+J],y[2]=p*s[48+J],y[3]=R*s[48+J],b[0]=B*s[8+J]+m*s[24+J]+E*s[40+J]+M*s[56+J],b[1]=m*s[8+J]-M*s[24+J]-B*s[40+J]-E*s[56+J],b[2]=E*s[8+J]-B*s[24+J]+M*s[40+J]+m*s[56+J],b[3]=M*s[8+J]-E*s[24+J]+m*s[40+J]-B*s[56+J],v[0]=A*(s[J]+s[32+J]),v[3]=A*(s[J]-s[32+J]),v[1]=y[0]+y[3],v[2]=y[1]-y[2],D[0]=v[0]+v[1],D[1]=v[3]+v[2],D[2]=v[3]-v[2],D[3]=v[0]-v[1],s[0+J]=D[0]+b[0],s[8+J]=D[1]+b[1],s[16+J]=D[2]+b[2],s[24+J]=D[3]+b[3],s[32+J]=D[3]-b[3],s[40+J]=D[2]-b[2],s[48+J]=D[1]-b[1],s[56+J]=D[0]-b[0]}function cn(s){for(var A=0;A<64;++A){var B=s[0][A],p=s[1][A],m=s[2][A];s[0][A]=B+1.5747*m,s[1][A]=B-.1873*p-.4682*m,s[2][A]=B+1.8556*p}}function An(s,A,B){for(var p=0;p<64;++p)A[B+p]=dt.toHalfFloat(Nt(s[p]))}function Nt(s){return s<=1?Math.sign(s)*Math.pow(Math.abs(s),2.2):Math.sign(s)*Math.pow(K,Math.abs(s)-1)}function ct(s){return new DataView(s.array.buffer,s.offset.value,s.size)}function $e(s){var A=s.viewer.buffer.slice(s.offset.value,s.offset.value+s.size),B=new Uint8Array(wt(A)),p=new Uint8Array(B.length);return gt(B),It(B,p),new DataView(p.buffer)}function Mt(s){var A=s.array.slice(s.offset.value,s.offset.value+s.size),B=jt(A),p=new Uint8Array(B.length);return gt(B),It(B,p),new DataView(p.buffer)}function ln(s){for(var A=s.viewer,B={value:s.offset.value},p=new Uint16Array(s.width*s.scanlineBlockSize*(s.channels*s.type)),m=new Uint8Array(8192),E=0,R=new Array(s.channels),M=0;M<s.channels;M++)R[M]={},R[M].start=E,R[M].end=R[M].start,R[M].nx=s.width,R[M].ny=s.lines,R[M].size=s.type,E+=R[M].nx*R[M].ny*R[M].size;var y=Fe(A,B),b=Fe(A,B);if(b>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(y<=b)for(var M=0;M<b-y+1;M++)m[M+y]=d(A,B);var v=new Uint16Array(65536),D=L(m,v),de=Ee(A,B);Lt(s.array,A,B,de,p,E);for(var M=0;M<s.channels;++M)for(var w=R[M],J=0;J<R[M].size;++J)sn(p,w.start+J,w.nx,w.size,w.ny,w.nx*w.size,D);Ot(v,p,E);for(var Q=0,Y=new Uint8Array(p.buffer.byteLength),ae=0;ae<s.lines;ae++)for(var le=0;le<s.channels;le++){var w=R[le],pe=w.nx*w.size,Re=new Uint8Array(p.buffer,w.end*2,pe*2);Y.set(Re,Q),Q+=pe*2,w.end+=pe}return new DataView(Y.buffer)}function xt(s){var A=s.array.slice(s.offset.value,s.offset.value+s.size),B=jt(A);const p=s.lines*s.channels*s.width,m=s.type==1?new Uint16Array(p):new Uint32Array(p);let E=0,R=0;const M=new Array(4);for(let y=0;y<s.lines;y++)for(let b=0;b<s.channels;b++){let v=0;switch(s.type){case 1:M[0]=E,M[1]=M[0]+s.width,E=M[1]+s.width;for(let D=0;D<s.width;++D){const de=B[M[0]++]<<8|B[M[1]++];v+=de,m[R]=v,R++}break;case 2:M[0]=E,M[1]=M[0]+s.width,M[2]=M[1]+s.width,E=M[2]+s.width;for(let D=0;D<s.width;++D){const de=B[M[0]++]<<24|B[M[1]++]<<16|B[M[2]++]<<8;v+=de,m[R]=v,R++}break}}return new DataView(m.buffer)}function At(s){var A=s.viewer,B={value:s.offset.value},p=new Uint8Array(s.width*s.lines*(s.channels*s.type*2)),m={version:F(A,B),unknownUncompressedSize:F(A,B),unknownCompressedSize:F(A,B),acCompressedSize:F(A,B),dcCompressedSize:F(A,B),rleCompressedSize:F(A,B),rleUncompressedSize:F(A,B),rleRawSize:F(A,B),totalAcUncompressedCount:F(A,B),totalDcUncompressedCount:F(A,B),acCompression:F(A,B)};if(m.version<2)throw"EXRLoader.parse: "+Rt.compression+" version "+m.version+" is unsupported";for(var E=new Array,R=Fe(A,B)-2;R>0;){var M=lt(A.buffer,B),y=d(A,B),b=y>>2&3,v=(y>>4)-1,D=new Int8Array([v])[0],de=d(A,B);E.push({name:M,index:D,type:de,compression:b}),R-=M.length+3}for(var w=Rt.channels,J=new Array(s.channels),Q=0;Q<s.channels;++Q){var Y=J[Q]={},ae=w[Q];Y.name=ae.name,Y.compression=0,Y.decoded=!1,Y.type=ae.pixelType,Y.pLinear=ae.pLinear,Y.width=s.width,Y.height=s.lines}for(var le={idx:new Array(3)},pe=0;pe<s.channels;++pe)for(var Y=J[pe],Q=0;Q<E.length;++Q){var Re=E[Q];Y.name==Re.name&&(Y.compression=Re.compression,Re.index>=0&&(le.idx[Re.index]=pe),Y.offset=pe)}if(m.acCompressedSize>0)switch(m.acCompression){case 0:var Be=new Uint16Array(m.totalAcUncompressedCount);Lt(s.array,A,B,m.acCompressedSize,Be,m.totalAcUncompressedCount);break;case 1:var ue=s.array.slice(B.value,B.value+m.totalAcUncompressedCount),Ke=jt(ue),Be=new Uint16Array(Ke.buffer);B.value+=m.totalAcUncompressedCount;break}if(m.dcCompressedSize>0){var me={array:s.array,offset:B,size:m.dcCompressedSize},Qe=new Uint16Array(Mt(me).buffer);B.value+=m.dcCompressedSize}if(m.rleRawSize>0){var ue=s.array.slice(B.value,B.value+m.rleCompressedSize),Ke=jt(ue),Tt=wt(Ke.buffer);B.value+=m.rleCompressedSize}for(var Se=0,ce=new Array(J.length),Q=0;Q<ce.length;++Q)ce[Q]=new Array;for(var Ie=0;Ie<s.lines;++Ie)for(var fe=0;fe<J.length;++fe)ce[fe].push(Se),Se+=J[fe].width*s.type*2;an(le,ce,J,Be,Qe,p);for(var Q=0;Q<J.length;++Q){var Y=J[Q];if(!Y.decoded)switch(Y.compression){case 2:for(var re=0,_e=0,Ie=0;Ie<s.lines;++Ie){for(var st=ce[Q][re],ye=0;ye<Y.width;++ye){for(var Ye=0;Ye<2*Y.type;++Ye)p[st++]=Tt[_e+Ye*Y.width*Y.height];_e++}re++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(p.buffer)}function lt(s,A){for(var B=new Uint8Array(s),p=0;B[A.value+p]!=0;)p+=1;var m=new TextDecoder().decode(B.slice(A.value,A.value+p));return A.value=A.value+p+1,m}function un(s,A,B){var p=new TextDecoder().decode(new Uint8Array(s).slice(A.value,A.value+B));return A.value=A.value+B,p}function Kt(s,A){var B=et(s,A),p=Ee(s,A);return[B,p]}function Bn(s,A){var B=Ee(s,A),p=Ee(s,A);return[B,p]}function et(s,A){var B=s.getInt32(A.value,!0);return A.value=A.value+4,B}function Ee(s,A){var B=s.getUint32(A.value,!0);return A.value=A.value+4,B}function ut(s,A){var B=s[A.value];return A.value=A.value+1,B}function d(s,A){var B=s.getUint8(A.value);return A.value=A.value+1,B}const F=function(s,A){let B;return"getBigInt64"in DataView.prototype?B=Number(s.getBigInt64(A.value,!0)):B=s.getUint32(A.value+4,!0)+Number(s.getUint32(A.value,!0)<<32),A.value+=8,B};function O(s,A){var B=s.getFloat32(A.value,!0);return A.value+=4,B}function q(s,A){return dt.toHalfFloat(O(s,A))}function T(s){var A=(s&31744)>>10,B=s&1023;return(s>>15?-1:1)*(A?A===31?B?NaN:1/0:Math.pow(2,A-15)*(1+B/1024):6103515625e-14*(B/1024))}function Fe(s,A){var B=s.getUint16(A.value,!0);return A.value+=2,B}function xe(s,A){return T(Fe(s,A))}function _n(s,A,B,p){for(var m=B.value,E=[];B.value<m+p-1;){var R=lt(A,B),M=et(s,B),y=d(s,B);B.value+=3;var b=et(s,B),v=et(s,B);E.push({name:R,pixelType:M,pLinear:y,xSampling:b,ySampling:v})}return B.value+=1,E}function kt(s,A){var B=O(s,A),p=O(s,A),m=O(s,A),E=O(s,A),R=O(s,A),M=O(s,A),y=O(s,A),b=O(s,A);return{redX:B,redY:p,greenX:m,greenY:E,blueX:R,blueY:M,whiteX:y,whiteY:b}}function Ue(s,A){var B=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],p=d(s,A);return B[p]}function Pe(s,A){var B=Ee(s,A),p=Ee(s,A),m=Ee(s,A),E=Ee(s,A);return{xMin:B,yMin:p,xMax:m,yMax:E}}function tt(s,A){var B=["INCREASING_Y"],p=d(s,A);return B[p]}function nt(s,A){var B=O(s,A),p=O(s,A);return[B,p]}function rt(s,A){var B=O(s,A),p=O(s,A),m=O(s,A);return[B,p,m]}function Bt(s,A,B,p,m){if(p==="string"||p==="stringvector"||p==="iccProfile")return un(A,B,m);if(p==="chlist")return _n(s,A,B,m);if(p==="chromaticities")return kt(s,B);if(p==="compression")return Ue(s,B);if(p==="box2i")return Pe(s,B);if(p==="lineOrder")return tt(s,B);if(p==="float")return O(s,B);if(p==="v2f")return nt(s,B);if(p==="v3f")return rt(s,B);if(p==="int")return et(s,B);if(p==="rational")return Kt(s,B);if(p==="timecode")return Bn(s,B);if(p==="preview")return B.value+=m,"skipped";B.value+=m}function Tr(s,A,B){const p={};if(s.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";p.version=s.getUint8(4);const m=s.getUint8(5);p.spec={singleTile:!!(m&2),longName:!!(m&4),deepFormat:!!(m&8),multiPart:!!(m&16)},B.value=8;for(var E=!0;E;){var R=lt(A,B);if(R==0)E=!1;else{var M=lt(A,B),y=Ee(s,B),b=Bt(s,A,B,M,y);b===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${M}'.`):p[R]=b}}if(m&-5)throw console.error("EXRHeader:",p),"THREE.EXRLoader: provided file is currently unsupported.";return p}function Dr(s,A,B,p,m){const E={size:0,viewer:A,array:B,offset:p,width:s.dataWindow.xMax-s.dataWindow.xMin+1,height:s.dataWindow.yMax-s.dataWindow.yMin+1,channels:s.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:s.channels[0].pixelType,uncompress:null,getter:null,format:null,[Gt?"colorSpace":"encoding"]:null};switch(s.compression){case"NO_COMPRESSION":E.lines=1,E.uncompress=ct;break;case"RLE_COMPRESSION":E.lines=1,E.uncompress=$e;break;case"ZIPS_COMPRESSION":E.lines=1,E.uncompress=Mt;break;case"ZIP_COMPRESSION":E.lines=16,E.uncompress=Mt;break;case"PIZ_COMPRESSION":E.lines=32,E.uncompress=ln;break;case"PXR24_COMPRESSION":E.lines=16,E.uncompress=xt;break;case"DWAA_COMPRESSION":E.lines=32,E.uncompress=At;break;case"DWAB_COMPRESSION":E.lines=256,E.uncompress=At;break;default:throw"EXRLoader.parse: "+s.compression+" is unsupported"}if(E.scanlineBlockSize=E.lines,E.type==1)switch(m){case Ct:E.getter=xe,E.inputSize=2;break;case Ve:E.getter=Fe,E.inputSize=2;break}else if(E.type==2)switch(m){case Ct:E.getter=O,E.inputSize=4;break;case Ve:E.getter=q,E.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+E.type+" for "+s.compression+".";E.blockCount=(s.dataWindow.yMax+1)/E.scanlineBlockSize;for(var R=0;R<E.blockCount;R++)F(A,p);E.outputChannels=E.channels==3?4:E.channels;const M=E.width*E.height*E.outputChannels;switch(m){case Ct:E.byteArray=new Float32Array(M),E.channels<E.outputChannels&&E.byteArray.fill(1,0,M);break;case Ve:E.byteArray=new Uint16Array(M),E.channels<E.outputChannels&&E.byteArray.fill(15360,0,M);break;default:console.error("THREE.EXRLoader: unsupported type: ",m);break}return E.bytesPerLine=E.width*E.inputSize*E.channels,E.outputChannels==4?E.format=hs:E.format=fs,Gt?E.colorSpace="srgb-linear":E.encoding=3e3,E}const Qt=new DataView(t),Gr=new Uint8Array(t),Ft={value:0},Rt=Tr(Qt,t,Ft),V=Dr(Rt,Qt,Gr,Ft,this.type),Ln={value:0},br={R:0,G:1,B:2,A:3,Y:0};for(let s=0;s<V.height/V.scanlineBlockSize;s++){const A=Ee(Qt,Ft);V.size=Ee(Qt,Ft),V.lines=A+V.scanlineBlockSize>V.height?V.height-A:V.scanlineBlockSize;const p=V.size<V.lines*V.bytesPerLine?V.uncompress(V):ct(V);Ft.value+=V.size;for(let m=0;m<V.scanlineBlockSize;m++){const E=m+s*V.scanlineBlockSize;if(E>=V.height)break;for(let R=0;R<V.channels;R++){const M=br[Rt.channels[R].name];for(let y=0;y<V.width;y++){Ln.value=(m*(V.channels*V.width)+R*V.width+y)*V.inputSize;const b=(V.height-1-E)*(V.width*V.outputChannels)+y*V.outputChannels+M;V.byteArray[b]=V.getter(p,Ln)}}}}return{header:Rt,width:V.width,height:V.height,data:V.byteArray,format:V.format,[Gt?"colorSpace":"encoding"]:V[Gt?"colorSpace":"encoding"],type:this.type}}setDataType(t){return this.type=t,this}load(t,n,e,r){function i(o,l){Gt?o.colorSpace=l.colorSpace:o.encoding=l.encoding,o.minFilter=mt,o.magFilter=mt,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,l)}return super.load(t,i,e,r)}}const In=new WeakMap;class Wo extends er{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,n,e,r){const i=new en(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(t,o=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,l).then(n).catch(r)},e,r)}decodeDracoFile(t,n,e,r){const i={attributeIDs:e||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!e};this.decodeGeometry(t,i).then(n)}decodeGeometry(t,n){for(const c in n.attributeTypes){const u=n.attributeTypes[c];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[c]=u.name)}const e=JSON.stringify(n);if(In.has(t)){const c=In.get(t);if(c.key===e)return c.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const i=this.workerNextTaskID++,o=t.byteLength,l=this._getWorker(i,o).then(c=>(r=c,new Promise((u,h)=>{r._callbacks[i]={resolve:u,reject:h},r.postMessage({type:"decode",id:i,taskConfig:n,buffer:t},[t])}))).then(c=>this._createGeometry(c.geometry));return l.catch(()=>!0).then(()=>{r&&i&&this._releaseTask(r,i)}),In.set(t,{key:e,promise:l}),l}_createGeometry(t){const n=new sr;t.index&&n.setIndex(new vt(t.index.array,1));for(let e=0;e<t.attributes.length;e++){const r=t.attributes[e],i=r.name,o=r.array,l=r.itemSize;n.setAttribute(i,new vt(o,l))}return n}_loadLibrary(t,n){const e=new en(this.manager);return e.setPath(this.decoderPath),e.setResponseType(n),e.setWithCredentials(this.withCredentials),new Promise((r,i)=>{e.load(t,r,void 0,i)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(e=>{const r=e[0];t||(this.decoderConfig.wasmBinary=e[1]);const i=No.toString(),o=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(t,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(i){const o=i.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,i){return r._taskLoad>i._taskLoad?-1:1});const e=this.workerPool[this.workerPool.length-1];return e._taskCosts[t]=n,e._taskLoad+=n,e})}_releaseTask(t,n){t._taskLoad-=t._taskCosts[n],delete t._callbacks[n],delete t._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function No(){let a,t;onmessage=function(o){const l=o.data;switch(l.type){case"init":a=l.decoderConfig,t=new Promise(function(h){a.onModuleLoaded=function(f){h({draco:f})},DracoDecoderModule(a)});break;case"decode":const c=l.buffer,u=l.taskConfig;t.then(h=>{const f=h.draco,C=new f.Decoder,g=new f.DecoderBuffer;g.Init(new Int8Array(c),c.byteLength);try{const I=n(f,C,g,u),H=I.attributes.map(G=>G.array.buffer);I.index&&H.push(I.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:I},H)}catch(I){console.error(I),self.postMessage({type:"error",id:l.id,error:I.message})}finally{f.destroy(g),f.destroy(C)}});break}};function n(o,l,c,u){const h=u.attributeIDs,f=u.attributeTypes;let C,g;const I=l.GetEncodedGeometryType(c);if(I===o.TRIANGULAR_MESH)C=new o.Mesh,g=l.DecodeBufferToMesh(c,C);else if(I===o.POINT_CLOUD)C=new o.PointCloud,g=l.DecodeBufferToPointCloud(c,C);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!g.ok()||C.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+g.error_msg());const H={index:null,attributes:[]};for(const G in h){const _=self[f[G]];let P,k;if(u.useUniqueIDs)k=h[G],P=l.GetAttributeByUniqueId(C,k);else{if(k=l.GetAttributeId(C,o[h[G]]),k===-1)continue;P=l.GetAttribute(C,k)}H.attributes.push(r(o,l,C,G,_,P))}return I===o.TRIANGULAR_MESH&&(H.index=e(o,l,C)),o.destroy(C),H}function e(o,l,c){const h=c.num_faces()*3,f=h*4,C=o._malloc(f);l.GetTrianglesUInt32Array(c,f,C);const g=new Uint32Array(o.HEAPF32.buffer,C,h).slice();return o._free(C),{array:g,itemSize:1}}function r(o,l,c,u,h,f){const C=f.num_components(),I=c.num_points()*C,H=I*h.BYTES_PER_ELEMENT,G=i(o,h),_=o._malloc(H);l.GetAttributeDataArrayForAllPoints(c,f,G,H,_);const P=new h(o.HEAPF32.buffer,_,I).slice();return o._free(_),{name:u,array:P,itemSize:C}}function i(o,l){switch(l){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Zt;const Vo=()=>{if(Zt)return Zt;const a="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",t="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",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),e=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=a;WebAssembly.validate(n)&&(r=t);let i;const o=WebAssembly.instantiate(l(r),{}).then(f=>{i=f.instance,i.exports.__wasm_call_ctors()});function l(f){const C=new Uint8Array(f.length);for(let I=0;I<f.length;++I){const H=f.charCodeAt(I);C[I]=H>96?H-71:H>64?H-65:H>47?H+4:H>46?63:62}let g=0;for(let I=0;I<f.length;++I)C[g++]=C[I]<60?e[C[I]]:(C[I]-60)*64+C[++I];return C.buffer.slice(0,g)}function c(f,C,g,I,H,G){const _=i.exports.sbrk,P=g+3&-4,k=_(P*I),x=_(H.length),se=new Uint8Array(i.exports.memory.buffer);se.set(H,x);const ne=f(k,g,I,x,H.length);if(ne===0&&G&&G(k,P,I),C.set(se.subarray(k,k+g*I)),_(k-_(0)),ne!==0)throw new Error(`Malformed buffer data: ${ne}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Zt={ready:o,supported:!0,decodeVertexBuffer(f,C,g,I,H){c(i.exports.meshopt_decodeVertexBuffer,f,C,g,I,i.exports[u[H]])},decodeIndexBuffer(f,C,g,I){c(i.exports.meshopt_decodeIndexBuffer,f,C,g,I)},decodeIndexSequence(f,C,g,I){c(i.exports.meshopt_decodeIndexSequence,f,C,g,I)},decodeGltfBuffer(f,C,g,I,H,G){c(i.exports[h[H]],f,C,g,I,i.exports[u[G]])}},Zt};export{Wo as D,Zo as E,jo as G,Vo as M,Xo as O,Yo as R,Qo as a,Ko as g,ko as j,vs as r};
//# sourceMappingURL=postprocessing-DM4g2Fi7.js.map
